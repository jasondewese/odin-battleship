(()=>{"use strict";var e={917:(e,n,t)=>{t.d(n,{Z:()=>s});var r=t(537),o=t.n(r),a=t(645),i=t.n(a)()(o());i.push([e.id,"/* http://meyerweb.com/eric/tools/css/reset/ \n   v2.0 | 20110126\n   License: none (public domain)\n*/\n\nhtml, body, div, span, applet, object, iframe,\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\na, abbr, acronym, address, big, cite, code,\ndel, dfn, em, img, ins, kbd, q, s, samp,\nsmall, strike, strong, sub, sup, tt, var,\nb, u, i, center,\ndl, dt, dd, ol, ul, li,\nfieldset, form, label, legend,\ntable, caption, tbody, tfoot, thead, tr, th, td,\narticle, aside, canvas, details, embed, \nfigure, figcaption, footer, header, hgroup, \nmenu, nav, output, ruby, section, summary,\ntime, mark, audio, video {\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\tfont-size: 100%;\n\tfont: inherit;\n\tvertical-align: baseline;\n}\n/* HTML5 display-role reset for older browsers */\narticle, aside, details, figcaption, figure, \nfooter, header, hgroup, menu, nav, section {\n\tdisplay: block;\n}\nbody {\n\tline-height: 1;\n}\nol, ul {\n\tlist-style: none;\n}\nblockquote, q {\n\tquotes: none;\n}\nblockquote:before, blockquote:after,\nq:before, q:after {\n\tcontent: '';\n\tcontent: none;\n}\ntable {\n\tborder-collapse: collapse;\n\tborder-spacing: 0;\n}","",{version:3,sources:["webpack://./src/reset.css"],names:[],mappings:"AAAA;;;CAGC;;AAED;;;;;;;;;;;;;CAaC,SAAS;CACT,UAAU;CACV,SAAS;CACT,eAAe;CACf,aAAa;CACb,wBAAwB;AACzB;AACA,gDAAgD;AAChD;;CAEC,cAAc;AACf;AACA;CACC,cAAc;AACf;AACA;CACC,gBAAgB;AACjB;AACA;CACC,YAAY;AACb;AACA;;CAEC,WAAW;CACX,aAAa;AACd;AACA;CACC,yBAAyB;CACzB,iBAAiB;AAClB",sourcesContent:["/* http://meyerweb.com/eric/tools/css/reset/ \n   v2.0 | 20110126\n   License: none (public domain)\n*/\n\nhtml, body, div, span, applet, object, iframe,\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\na, abbr, acronym, address, big, cite, code,\ndel, dfn, em, img, ins, kbd, q, s, samp,\nsmall, strike, strong, sub, sup, tt, var,\nb, u, i, center,\ndl, dt, dd, ol, ul, li,\nfieldset, form, label, legend,\ntable, caption, tbody, tfoot, thead, tr, th, td,\narticle, aside, canvas, details, embed, \nfigure, figcaption, footer, header, hgroup, \nmenu, nav, output, ruby, section, summary,\ntime, mark, audio, video {\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\tfont-size: 100%;\n\tfont: inherit;\n\tvertical-align: baseline;\n}\n/* HTML5 display-role reset for older browsers */\narticle, aside, details, figcaption, figure, \nfooter, header, hgroup, menu, nav, section {\n\tdisplay: block;\n}\nbody {\n\tline-height: 1;\n}\nol, ul {\n\tlist-style: none;\n}\nblockquote, q {\n\tquotes: none;\n}\nblockquote:before, blockquote:after,\nq:before, q:after {\n\tcontent: '';\n\tcontent: none;\n}\ntable {\n\tborder-collapse: collapse;\n\tborder-spacing: 0;\n}"],sourceRoot:""}]);const s=i},426:(e,n,t)=>{t.d(n,{Z:()=>s});var r=t(537),o=t.n(r),a=t(645),i=t.n(a)()(o());i.push([e.id,"html {\n    box-sizing: border-box;\n    font-family: sans-serif;\n    font-size: 16px;\n    background-color: #fafafa;\n    color: #262626;\n}\n\nbody {\n    height: 100vh;\n    width: 100vw;\n    display: grid;\n    grid-template-rows: 4rem 1fr 3rem;\n    background-color: #1e3a8a;\n    color: #e5e5e5;\n}\n\n/*Header style*/\nheader {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n\nh1 {\n    font-size: 3rem;\n}\n/*End Header style*/\n\n/*Main game area style*/\nmain {\n    display: grid;\n    grid-template-rows: 4rem 2em 1fr;\n    align-items: center;\n    justify-items: center;\n}\n\n.board-section {\n    display: flex;\n    /*To allow easy insertion of second gameboard to screen*/\n    justify-content: space-around;\n    gap: 100px;\n}\n\n#axis-button, #restart-button {\n    height: 2rem;\n    width: 8rem;\n}\n\n#restart-button {\n    display: none;\n}\n\n.board-wrapper {\n    width: 500px;\n    height: 500px;\n    display: grid;\n    gap: 2px;\n    grid-template-rows: repeat(10, 1fr);\n    grid-template-columns: repeat(10, 1fr);\n}\n\n.board-cell {\n    height: 100%;\n    width: 100%;\n    border: 2px solid #fafafa;\n}\n\n.ship-cell {\n    background-color: #60a5fa;\n}\n\n.board-cell:hover {\n    cursor: pointer;\n    background-color: #2e4a9a;\n}\n\n.ship-cell:hover {\n    cursor: pointer;\n    background-color: #bfdbfe;\n}\n\n.hit-cell {\n    background-color: #86efac;\n}\n\n.miss-cell {\n    background-color: #fca5a5;\n}\n\n.invalid-cell:hover {\n    cursor: not-allowed;\n}\n\n.click-blocker {\n    background-color: rgba(1, 1, 1, 0.1);\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    top: 0;\n}\n/*End Main game area style*/\n\n/*Footer style*/\nfooter {\n    background-color: #e5e5e5;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.project-links {\n    color: #262626;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    gap: 20px;\n}\n\n.git-logo {\n    width: 32px;\n}\n/*End Footer style*/","",{version:3,sources:["webpack://./src/style.css"],names:[],mappings:"AAAA;IACI,sBAAsB;IACtB,uBAAuB;IACvB,eAAe;IACf,yBAAyB;IACzB,cAAc;AAClB;;AAEA;IACI,aAAa;IACb,YAAY;IACZ,aAAa;IACb,iCAAiC;IACjC,yBAAyB;IACzB,cAAc;AAClB;;AAEA,eAAe;AACf;IACI,aAAa;IACb,uBAAuB;IACvB,mBAAmB;AACvB;;AAEA;IACI,eAAe;AACnB;AACA,mBAAmB;;AAEnB,uBAAuB;AACvB;IACI,aAAa;IACb,gCAAgC;IAChC,mBAAmB;IACnB,qBAAqB;AACzB;;AAEA;IACI,aAAa;IACb,wDAAwD;IACxD,6BAA6B;IAC7B,UAAU;AACd;;AAEA;IACI,YAAY;IACZ,WAAW;AACf;;AAEA;IACI,aAAa;AACjB;;AAEA;IACI,YAAY;IACZ,aAAa;IACb,aAAa;IACb,QAAQ;IACR,mCAAmC;IACnC,sCAAsC;AAC1C;;AAEA;IACI,YAAY;IACZ,WAAW;IACX,yBAAyB;AAC7B;;AAEA;IACI,yBAAyB;AAC7B;;AAEA;IACI,eAAe;IACf,yBAAyB;AAC7B;;AAEA;IACI,eAAe;IACf,yBAAyB;AAC7B;;AAEA;IACI,yBAAyB;AAC7B;;AAEA;IACI,yBAAyB;AAC7B;;AAEA;IACI,mBAAmB;AACvB;;AAEA;IACI,oCAAoC;IACpC,eAAe;IACf,SAAS;IACT,OAAO;IACP,QAAQ;IACR,MAAM;AACV;AACA,2BAA2B;;AAE3B,eAAe;AACf;IACI,yBAAyB;IACzB,aAAa;IACb,mBAAmB;IACnB,uBAAuB;AAC3B;;AAEA;IACI,cAAc;IACd,aAAa;IACb,uBAAuB;IACvB,mBAAmB;IACnB,SAAS;AACb;;AAEA;IACI,WAAW;AACf;AACA,mBAAmB",sourcesContent:["html {\n    box-sizing: border-box;\n    font-family: sans-serif;\n    font-size: 16px;\n    background-color: #fafafa;\n    color: #262626;\n}\n\nbody {\n    height: 100vh;\n    width: 100vw;\n    display: grid;\n    grid-template-rows: 4rem 1fr 3rem;\n    background-color: #1e3a8a;\n    color: #e5e5e5;\n}\n\n/*Header style*/\nheader {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n\nh1 {\n    font-size: 3rem;\n}\n/*End Header style*/\n\n/*Main game area style*/\nmain {\n    display: grid;\n    grid-template-rows: 4rem 2em 1fr;\n    align-items: center;\n    justify-items: center;\n}\n\n.board-section {\n    display: flex;\n    /*To allow easy insertion of second gameboard to screen*/\n    justify-content: space-around;\n    gap: 100px;\n}\n\n#axis-button, #restart-button {\n    height: 2rem;\n    width: 8rem;\n}\n\n#restart-button {\n    display: none;\n}\n\n.board-wrapper {\n    width: 500px;\n    height: 500px;\n    display: grid;\n    gap: 2px;\n    grid-template-rows: repeat(10, 1fr);\n    grid-template-columns: repeat(10, 1fr);\n}\n\n.board-cell {\n    height: 100%;\n    width: 100%;\n    border: 2px solid #fafafa;\n}\n\n.ship-cell {\n    background-color: #60a5fa;\n}\n\n.board-cell:hover {\n    cursor: pointer;\n    background-color: #2e4a9a;\n}\n\n.ship-cell:hover {\n    cursor: pointer;\n    background-color: #bfdbfe;\n}\n\n.hit-cell {\n    background-color: #86efac;\n}\n\n.miss-cell {\n    background-color: #fca5a5;\n}\n\n.invalid-cell:hover {\n    cursor: not-allowed;\n}\n\n.click-blocker {\n    background-color: rgba(1, 1, 1, 0.1);\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    top: 0;\n}\n/*End Main game area style*/\n\n/*Footer style*/\nfooter {\n    background-color: #e5e5e5;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.project-links {\n    color: #262626;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    gap: 20px;\n}\n\n.git-logo {\n    width: 32px;\n}\n/*End Footer style*/"],sourceRoot:""}]);const s=i},645:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t="",r=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),r&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),r&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t})).join("")},n.i=function(e,t,r,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(i[l]=!0)}for(var c=0;c<e.length;c++){var A=[].concat(e[c]);r&&i[A[0]]||(void 0!==a&&(void 0===A[5]||(A[1]="@layer".concat(A[5].length>0?" ".concat(A[5]):""," {").concat(A[1],"}")),A[5]=a),t&&(A[2]?(A[1]="@media ".concat(A[2]," {").concat(A[1],"}"),A[2]=t):A[2]=t),o&&(A[4]?(A[1]="@supports (".concat(A[4],") {").concat(A[1],"}"),A[4]=o):A[4]="".concat(o)),n.push(A))}},n}},537:e=>{e.exports=function(e){var n=e[1],t=e[3];if(!t)return n;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),a="/*# ".concat(o," */"),i=t.sources.map((function(e){return"/*# sourceURL=".concat(t.sourceRoot||"").concat(e," */")}));return[n].concat(i).concat([a]).join("\n")}return[n].join("\n")}},379:e=>{var n=[];function t(e){for(var t=-1,r=0;r<n.length;r++)if(n[r].identifier===e){t=r;break}return t}function r(e,r){for(var a={},i=[],s=0;s<e.length;s++){var l=e[s],c=r.base?l[0]+r.base:l[0],A=a[c]||0,d="".concat(c," ").concat(A);a[c]=A+1;var u=t(d),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==u)n[u].references++,n[u].updater(p);else{var f=o(p,r);r.byIndex=s,n.splice(s,0,{identifier:d,updater:f,references:1})}i.push(d)}return i}function o(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,o){var a=r(e=e||[],o=o||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var s=t(a[i]);n[s].references--}for(var l=r(e,o),c=0;c<a.length;c++){var A=t(a[c]);0===n[A].references&&(n[A].updater(),n.splice(A,1))}a=l}}},569:e=>{var n={};e.exports=function(e,t){var r=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},216:e=>{e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},565:(e,n,t)=>{e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},795:e=>{e.exports=function(e){var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var o=void 0!==t.layer;o&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,o&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var a=t.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),n.styleTagTransform(r,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},589:e=>{e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}}},n={};function t(r){var o=n[r];if(void 0!==o)return o.exports;var a=n[r]={id:r,exports:{}};return e[r](a,a.exports,t),a.exports}t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e=t(379),n=t.n(e),r=t(795),o=t.n(r),a=t(569),i=t.n(a),s=t(565),l=t.n(s),c=t(216),A=t.n(c),d=t(589),u=t.n(d),p=t(917),f={};f.styleTagTransform=u(),f.setAttributes=l(),f.insert=i().bind(null,"head"),f.domAPI=o(),f.insertStyleElement=A(),n()(p.Z,f),p.Z&&p.Z.locals&&p.Z.locals;var m=t(426),h={};h.styleTagTransform=u(),h.setAttributes=l(),h.insert=i().bind(null,"head"),h.domAPI=o(),h.insertStyleElement=A(),n()(m.Z,h),m.Z&&m.Z.locals&&m.Z.locals;const C=e=>{const n=e;let t=!1,r=[];return(()=>{for(let e=0;e<n;e++)r.push(!1)})(),{isSunk:()=>{t=!0;for(const e of r)0==e&&(t=!1);return t},hit:e=>(r[e]=!0,r)}},y=()=>{const e=10;let n="VERTICAL",t=[],r=[],o=[],a=0;const i=()=>{t=[],o=[];for(let n=0;n<e;n++){t.push([]),o.push([]);for(let r=0;r<e;r++)t[n].push(-1),o[n].push(-1)}},s=()=>{r=[];for(let e=1;e<=5;e++)1===e?r.push(C(e+1)):r.push(C(e))};return i(),s(),{placeShip:(n,o,i,s,l)=>{if(n>=r.length||n<0)throw new Error("No ship exists at provided index");if(o>=e||i>=e||s>=e||l>=e)throw new Error("Invalid coordinates received. Out of bounds");if(o<0||i<0||s<0||l<0)throw new Error("Invalid coordinates received. Out of bounds");let c=0;for(let e=o;e<=s;e++)for(let r=i;r<=l;r++)t[e][r]={ship:n,shipIndex:c},c++;return a++,[t[o][i].ship,t[s][l].ship]},receiveAttack:(e,n)=>"object"==typeof t[e][n]?(r[t[e][n].ship].hit(t[e][n].shipIndex),o[e][n]=1,"HIT"):(o[e][n]=0,"MISS"),isAllSunk:()=>{let e=!0;for(const n of r)n.isSunk()||(e=!1);return e},getShotStatus:(n,t)=>{if(n>=e||t>=e)throw new Error("Invalid coordinates received. Out of bounds");if(n<0||t<0)throw new Error("Invalid coordinates received. Out of bounds");let r=o[n][t];if(-1===r)return"No shot fired";if(1===r)return"HIT";if(0===r)return"MISS";throw new Error("Invalid coordinate received")},printBoard:()=>{let n="";for(let r=0;r<e;r++){for(let o=0;o<e;o++)n+=t[r][o]+", ";n+="\n"}return n},getBoard:()=>t,getShipsPlaced:()=>a,changeShipOrientation:()=>{n="VERTICAL"===n?"HORIZONTAL":"VERTICAL"},getShipOrientation:()=>n,isValidPlacement:(e,r)=>{if(a<5){if("VERTICAL"===n&&0===a&&e>8)return!1;if("VERTICAL"===n&&e>9-a)return!1;if("VERTICAL"===n&&a>0){let n=!1;for(let o=0;o<a+1;o++)-1===t[e+o][r]&&-1===t[e+o+1][r]&&-1===t[e+o-1][r]||(n=!0);return!n}if("HORIZONTAL"===n&&0===a&&r>8)return!1;if("HORIZONTAL"===n&&r>9-a)return!1;if("HORIZONTAL"===n&&a>0){let n=!1;for(let o=0;o<a+1;o++)-1===t[e][r+o]&&-1===t[e][r+o+1]&&-1===t[e][r+o-1]||(n=!0);return!n}return!0}return!0},resetBoard:()=>{i(),s(),a=0,n="VERTICAL"}}},b=(()=>{const e=(e,n,t,r)=>{let o=n.getShipsPlaced();if(o<5)if(0===o){n.placeShip(o,t,r,t+1,r);for(let e=0;e<o+2;e++)document.getElementById("player"+(t+e)+r).classList.add("ship-cell")}else{n.placeShip(o,t,r,t+o,r),e.classList.add("ship-cell");for(let e=0;e<o+1;e++)document.getElementById("player"+(t+e)+r).classList.add("ship-cell")}},n=(e,n,t,r)=>{let o=n.getShipsPlaced();if(o<5)if(0===o){n.placeShip(o,t,r,t,r+1);for(let e=0;e<o+2;e++)document.getElementById("player"+t+(r+e)).classList.add("ship-cell")}else{n.placeShip(o,t,r,t,r+o),e.classList.add("ship-cell");for(let e=0;e<o+1;e++)document.getElementById("player"+t+(r+e)).classList.add("ship-cell")}};return{initBoards:(t,r,o,a)=>{((t,r,o)=>{const a=document.querySelector(".player-board");for(let t=0;t<10;t++)for(let o=0;o<10;o++){const i=document.createElement("div");i.classList.add("board-cell"),i.id="player"+t+o,"object"==typeof r.getBoard()[t][o]&&i.classList.add("ship-cell"),i.addEventListener("mouseover",(function(){r.isValidPlacement(t,o)?i.classList.remove("invalid-cell"):i.classList.add("invalid-cell")})),i.addEventListener("click",(function(){let a=r.getShipOrientation();"VERTICAL"===a?e(i,r,t,o):"HORIZONTAL"===a&&n(i,r,t,o),r.getShipsPlaced()>=5&&(document.querySelector(".computer-board").style.removeProperty("display"),document.getElementById("axis-button").style.display="none",document.getElementById("restart-button").style.display="inline")})),a.appendChild(i)}})(0,o),((e,n,t)=>{const r=document.querySelector(".computer-board");for(let o=0;o<10;o++)for(let a=0;a<10;a++){const i=document.createElement("div");i.classList.add("board-cell"),i.id="comp"+o+a,"object"==typeof t.getBoard()[o][a]&&i.classList.add("ship-cell"),i.addEventListener("click",(function(){B.getGameOver()||B.gameTurn(e,n,t,o,a)})),r.appendChild(i)}r.style.display="none"})(t,o,a),document.getElementById("restart-button").addEventListener("click",(function(){B.restartGame(),document.getElementById("axis-button").style.display="inline",document.getElementById("restart-button").style.display="none"})),document.getElementById("axis-button").addEventListener("click",(function(){o.changeShipOrientation()}))}}})(),g=e=>{const n=e;return{attack:(e,n,t)=>{if(!e.hasOwnProperty("placeShip"))throw new Error("Invalid gameboard object received");return((e,n,t)=>{if(!e.hasOwnProperty("placeShip"))throw new Error("Invalid gameboard object received");return"HIT"!==e.getShotStatus(n,t)&&"MISS"!==e.getShotStatus(n,t)})(e,n,t)?(e.receiveAttack(n,t),e.getShotStatus(n,t)):"Attack failed. Cannot attack same square twice"},isPlayerHuman:()=>n}},I=(e,n)=>(e=Math.ceil(e),n=Math.floor(n),Math.floor(Math.random()*(n-e)+e)),v=(()=>{const e=document.querySelector(".message-text");return{placeShipsMessage:()=>{e.textContent='Click the board to place your ships. Click "Rotate Ship" to change direction.'},shotResult:(n,t,r)=>{e.textContent=n},addCurrentTurnToMessage:n=>{e.textContent+="PLAYER"===n?". Player turn. Click a square to launch an attack!":". Computer taking turn. Attacking..."},displayMessage:n=>{e.textContent=n}}})(),B=(()=>{const e=g(!0),n=g(!1),t=y(),r=y();let o="PLAYER",a=!1;const i=()=>{o="PLAYER",a=!1,document.querySelector(".click-blocker").style.display="none",(()=>{let e=[];for(let n=0;n<5;n++)if(0===n){let t=I(0,10-(n+1)),o=I(0,10);for(;e.includes(o)||e.includes(o+1)||e.includes(o-1);)o=I(0,10);let a=o,i=t+1;r.placeShip(n,t,o,i,a),e.push(o)}else{let t=I(0,10-n),o=I(0,10);for(;e.includes(o)||e.includes(o+1)||e.includes(o-1);)o=I(0,10);let a=o,i=t+n;r.placeShip(n,t,o,i,a),e.push(o)}})(),b.initBoards(e,n,t,r),v.placeShipsMessage()},s=()=>{a||(o="PLAYER"===o?"COMP":"PLAYER",v.addCurrentTurnToMessage(o),"COMP"===o&&setTimeout((function(){(()=>{let e=I(0,10),r=I(0,10),a=n.attack(t,e,r),i="PLAYER"===o?"comp":"player";v.shotResult(a,e,r);let s=document.getElementById(i+e+r);"HIT"===a&&s.classList.add("hit-cell"),"MISS"===a&&s.classList.add("miss-cell")})(),s(),document.querySelector(".click-blocker").style.display="none"}),2e3))};return{initGame:i,gameTurn:(e,n,t,r,i)=>{let l;if("PLAYER"===o)l=e.attack(t,r,i),document.querySelector(".click-blocker").style.removeProperty("display");else if("COMP"===o){let n=I(0,10),r=I(0,10);l=e.attack(t,n,r)}let c="PLAYER"===o?"comp":"player";v.shotResult(l,r,i);let A=document.getElementById(c+r+i);"HIT"===l&&A.classList.add("hit-cell"),"MISS"===l&&A.classList.add("miss-cell");let d=e.isPlayerHuman()?"You win!":"Computer player wins!";d="Game Over. "+d,t.isAllSunk()&&(v.displayMessage(d),a=!0),s()},getGameOver:()=>a,restartGame:()=>{let e=document.querySelector(".player-board"),n=document.querySelector(".computer-board");for(;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)n.removeChild(n.firstChild);t.resetBoard(),r.resetBoard(),i(),document.getElementById("axis-button").addEventListener("click",(function(){t.changeShipOrientation()}))},getTurn:()=>o}})();B.initGame()})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWFwRCxVQUFVQyxJQUFJLFlBRWxCLFNBQVRvQyxHQUNBZSxFQUFhcEQsVUFBVUMsSUFBSSxhQUcvQixJQUFJdUQsRUFBY0YsRUFBVzlCLGdCQUFrQixXQUFhLHdCQUM1RGdDLEVBQWMsY0FBZ0JBLEVBQzFCRCxFQUFXNUUsY0FDWHFELEVBQWtCUSxlQUFlZ0IsR0FDakNkLEdBQVksR0FFaEJLLEtBR3dCakMsWUFsTFIsSUFDVDRCLEVBaUw4QnpCLFlBeEZyQixLQUNoQixJQUFJd0MsRUFBaUJ4SixTQUFTQyxjQUFjLGlCQUN4Q3dKLEVBQWV6SixTQUFTQyxjQUFjLG1CQUMxQyxLQUFPdUosRUFBZS9ILFlBQ2xCK0gsRUFBZW5JLFlBQVltSSxFQUFlL0gsWUFFOUMsS0FBT2dJLEVBQWFoSSxZQUNoQmdJLEVBQWFwSSxZQUFZb0ksRUFBYWhJLFlBRTFDbUUsRUFBWUosYUFDWmEsRUFBVWIsYUFFVmtELElBRUExSSxTQUFTOEYsZUFBZSxlQUFlUyxpQkFBaUIsU0FBUyxXQUM3RFgsRUFBWVIsNEJBeUVrQ3NFLFFBOUt0QyxJQUNMcEIsSUFkRixHQ0ZiMUIsRUFBSzhCLFkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9zcmMvcmVzZXQuY3NzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL3NyYy9zdHlsZS5jc3MiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9zcmMvcmVzZXQuY3NzP2VkZTAiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vc3JjL3N0eWxlLmNzcz83MTYzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL3NyYy9TaGlwLmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL3NyYy9HYW1lYm9hcmQuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vc3JjL2NyZWF0ZUdhbWVib2FyZERPTS5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9zcmMvUGxheWVyLmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL3NyYy9tYXRoTG9naWMuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vc3JjL2Rpc3BsYXlDb250cm9sbGVyLmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL3NyYy9HYW1lLmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcIi8qIGh0dHA6Ly9tZXllcndlYi5jb20vZXJpYy90b29scy9jc3MvcmVzZXQvIFxcbiAgIHYyLjAgfCAyMDExMDEyNlxcbiAgIExpY2Vuc2U6IG5vbmUgKHB1YmxpYyBkb21haW4pXFxuKi9cXG5cXG5odG1sLCBib2R5LCBkaXYsIHNwYW4sIGFwcGxldCwgb2JqZWN0LCBpZnJhbWUsXFxuaDEsIGgyLCBoMywgaDQsIGg1LCBoNiwgcCwgYmxvY2txdW90ZSwgcHJlLFxcbmEsIGFiYnIsIGFjcm9ueW0sIGFkZHJlc3MsIGJpZywgY2l0ZSwgY29kZSxcXG5kZWwsIGRmbiwgZW0sIGltZywgaW5zLCBrYmQsIHEsIHMsIHNhbXAsXFxuc21hbGwsIHN0cmlrZSwgc3Ryb25nLCBzdWIsIHN1cCwgdHQsIHZhcixcXG5iLCB1LCBpLCBjZW50ZXIsXFxuZGwsIGR0LCBkZCwgb2wsIHVsLCBsaSxcXG5maWVsZHNldCwgZm9ybSwgbGFiZWwsIGxlZ2VuZCxcXG50YWJsZSwgY2FwdGlvbiwgdGJvZHksIHRmb290LCB0aGVhZCwgdHIsIHRoLCB0ZCxcXG5hcnRpY2xlLCBhc2lkZSwgY2FudmFzLCBkZXRhaWxzLCBlbWJlZCwgXFxuZmlndXJlLCBmaWdjYXB0aW9uLCBmb290ZXIsIGhlYWRlciwgaGdyb3VwLCBcXG5tZW51LCBuYXYsIG91dHB1dCwgcnVieSwgc2VjdGlvbiwgc3VtbWFyeSxcXG50aW1lLCBtYXJrLCBhdWRpbywgdmlkZW8ge1xcblxcdG1hcmdpbjogMDtcXG5cXHRwYWRkaW5nOiAwO1xcblxcdGJvcmRlcjogMDtcXG5cXHRmb250LXNpemU6IDEwMCU7XFxuXFx0Zm9udDogaW5oZXJpdDtcXG5cXHR2ZXJ0aWNhbC1hbGlnbjogYmFzZWxpbmU7XFxufVxcbi8qIEhUTUw1IGRpc3BsYXktcm9sZSByZXNldCBmb3Igb2xkZXIgYnJvd3NlcnMgKi9cXG5hcnRpY2xlLCBhc2lkZSwgZGV0YWlscywgZmlnY2FwdGlvbiwgZmlndXJlLCBcXG5mb290ZXIsIGhlYWRlciwgaGdyb3VwLCBtZW51LCBuYXYsIHNlY3Rpb24ge1xcblxcdGRpc3BsYXk6IGJsb2NrO1xcbn1cXG5ib2R5IHtcXG5cXHRsaW5lLWhlaWdodDogMTtcXG59XFxub2wsIHVsIHtcXG5cXHRsaXN0LXN0eWxlOiBub25lO1xcbn1cXG5ibG9ja3F1b3RlLCBxIHtcXG5cXHRxdW90ZXM6IG5vbmU7XFxufVxcbmJsb2NrcXVvdGU6YmVmb3JlLCBibG9ja3F1b3RlOmFmdGVyLFxcbnE6YmVmb3JlLCBxOmFmdGVyIHtcXG5cXHRjb250ZW50OiAnJztcXG5cXHRjb250ZW50OiBub25lO1xcbn1cXG50YWJsZSB7XFxuXFx0Ym9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcXG5cXHRib3JkZXItc3BhY2luZzogMDtcXG59XCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL3Jlc2V0LmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTs7O0NBR0M7O0FBRUQ7Ozs7Ozs7Ozs7Ozs7Q0FhQyxTQUFTO0NBQ1QsVUFBVTtDQUNWLFNBQVM7Q0FDVCxlQUFlO0NBQ2YsYUFBYTtDQUNiLHdCQUF3QjtBQUN6QjtBQUNBLGdEQUFnRDtBQUNoRDs7Q0FFQyxjQUFjO0FBQ2Y7QUFDQTtDQUNDLGNBQWM7QUFDZjtBQUNBO0NBQ0MsZ0JBQWdCO0FBQ2pCO0FBQ0E7Q0FDQyxZQUFZO0FBQ2I7QUFDQTs7Q0FFQyxXQUFXO0NBQ1gsYUFBYTtBQUNkO0FBQ0E7Q0FDQyx5QkFBeUI7Q0FDekIsaUJBQWlCO0FBQ2xCXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIi8qIGh0dHA6Ly9tZXllcndlYi5jb20vZXJpYy90b29scy9jc3MvcmVzZXQvIFxcbiAgIHYyLjAgfCAyMDExMDEyNlxcbiAgIExpY2Vuc2U6IG5vbmUgKHB1YmxpYyBkb21haW4pXFxuKi9cXG5cXG5odG1sLCBib2R5LCBkaXYsIHNwYW4sIGFwcGxldCwgb2JqZWN0LCBpZnJhbWUsXFxuaDEsIGgyLCBoMywgaDQsIGg1LCBoNiwgcCwgYmxvY2txdW90ZSwgcHJlLFxcbmEsIGFiYnIsIGFjcm9ueW0sIGFkZHJlc3MsIGJpZywgY2l0ZSwgY29kZSxcXG5kZWwsIGRmbiwgZW0sIGltZywgaW5zLCBrYmQsIHEsIHMsIHNhbXAsXFxuc21hbGwsIHN0cmlrZSwgc3Ryb25nLCBzdWIsIHN1cCwgdHQsIHZhcixcXG5iLCB1LCBpLCBjZW50ZXIsXFxuZGwsIGR0LCBkZCwgb2wsIHVsLCBsaSxcXG5maWVsZHNldCwgZm9ybSwgbGFiZWwsIGxlZ2VuZCxcXG50YWJsZSwgY2FwdGlvbiwgdGJvZHksIHRmb290LCB0aGVhZCwgdHIsIHRoLCB0ZCxcXG5hcnRpY2xlLCBhc2lkZSwgY2FudmFzLCBkZXRhaWxzLCBlbWJlZCwgXFxuZmlndXJlLCBmaWdjYXB0aW9uLCBmb290ZXIsIGhlYWRlciwgaGdyb3VwLCBcXG5tZW51LCBuYXYsIG91dHB1dCwgcnVieSwgc2VjdGlvbiwgc3VtbWFyeSxcXG50aW1lLCBtYXJrLCBhdWRpbywgdmlkZW8ge1xcblxcdG1hcmdpbjogMDtcXG5cXHRwYWRkaW5nOiAwO1xcblxcdGJvcmRlcjogMDtcXG5cXHRmb250LXNpemU6IDEwMCU7XFxuXFx0Zm9udDogaW5oZXJpdDtcXG5cXHR2ZXJ0aWNhbC1hbGlnbjogYmFzZWxpbmU7XFxufVxcbi8qIEhUTUw1IGRpc3BsYXktcm9sZSByZXNldCBmb3Igb2xkZXIgYnJvd3NlcnMgKi9cXG5hcnRpY2xlLCBhc2lkZSwgZGV0YWlscywgZmlnY2FwdGlvbiwgZmlndXJlLCBcXG5mb290ZXIsIGhlYWRlciwgaGdyb3VwLCBtZW51LCBuYXYsIHNlY3Rpb24ge1xcblxcdGRpc3BsYXk6IGJsb2NrO1xcbn1cXG5ib2R5IHtcXG5cXHRsaW5lLWhlaWdodDogMTtcXG59XFxub2wsIHVsIHtcXG5cXHRsaXN0LXN0eWxlOiBub25lO1xcbn1cXG5ibG9ja3F1b3RlLCBxIHtcXG5cXHRxdW90ZXM6IG5vbmU7XFxufVxcbmJsb2NrcXVvdGU6YmVmb3JlLCBibG9ja3F1b3RlOmFmdGVyLFxcbnE6YmVmb3JlLCBxOmFmdGVyIHtcXG5cXHRjb250ZW50OiAnJztcXG5cXHRjb250ZW50OiBub25lO1xcbn1cXG50YWJsZSB7XFxuXFx0Ym9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcXG5cXHRib3JkZXItc3BhY2luZzogMDtcXG59XCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiaHRtbCB7XFxuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICAgIGZvbnQtZmFtaWx5OiBzYW5zLXNlcmlmO1xcbiAgICBmb250LXNpemU6IDE2cHg7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmYWZhZmE7XFxuICAgIGNvbG9yOiAjMjYyNjI2O1xcbn1cXG5cXG5ib2R5IHtcXG4gICAgaGVpZ2h0OiAxMDB2aDtcXG4gICAgd2lkdGg6IDEwMHZ3O1xcbiAgICBkaXNwbGF5OiBncmlkO1xcbiAgICBncmlkLXRlbXBsYXRlLXJvd3M6IDRyZW0gMWZyIDNyZW07XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICMxZTNhOGE7XFxuICAgIGNvbG9yOiAjZTVlNWU1O1xcbn1cXG5cXG4vKkhlYWRlciBzdHlsZSovXFxuaGVhZGVyIHtcXG4gICAgZGlzcGxheTogZmxleDtcXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxufVxcblxcbmgxIHtcXG4gICAgZm9udC1zaXplOiAzcmVtO1xcbn1cXG4vKkVuZCBIZWFkZXIgc3R5bGUqL1xcblxcbi8qTWFpbiBnYW1lIGFyZWEgc3R5bGUqL1xcbm1haW4ge1xcbiAgICBkaXNwbGF5OiBncmlkO1xcbiAgICBncmlkLXRlbXBsYXRlLXJvd3M6IDRyZW0gMmVtIDFmcjtcXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gICAganVzdGlmeS1pdGVtczogY2VudGVyO1xcbn1cXG5cXG4uYm9hcmQtc2VjdGlvbiB7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIC8qVG8gYWxsb3cgZWFzeSBpbnNlcnRpb24gb2Ygc2Vjb25kIGdhbWVib2FyZCB0byBzY3JlZW4qL1xcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDtcXG4gICAgZ2FwOiAxMDBweDtcXG59XFxuXFxuI2F4aXMtYnV0dG9uLCAjcmVzdGFydC1idXR0b24ge1xcbiAgICBoZWlnaHQ6IDJyZW07XFxuICAgIHdpZHRoOiA4cmVtO1xcbn1cXG5cXG4jcmVzdGFydC1idXR0b24ge1xcbiAgICBkaXNwbGF5OiBub25lO1xcbn1cXG5cXG4uYm9hcmQtd3JhcHBlciB7XFxuICAgIHdpZHRoOiA1MDBweDtcXG4gICAgaGVpZ2h0OiA1MDBweDtcXG4gICAgZGlzcGxheTogZ3JpZDtcXG4gICAgZ2FwOiAycHg7XFxuICAgIGdyaWQtdGVtcGxhdGUtcm93czogcmVwZWF0KDEwLCAxZnIpO1xcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCgxMCwgMWZyKTtcXG59XFxuXFxuLmJvYXJkLWNlbGwge1xcbiAgICBoZWlnaHQ6IDEwMCU7XFxuICAgIHdpZHRoOiAxMDAlO1xcbiAgICBib3JkZXI6IDJweCBzb2xpZCAjZmFmYWZhO1xcbn1cXG5cXG4uc2hpcC1jZWxsIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzYwYTVmYTtcXG59XFxuXFxuLmJvYXJkLWNlbGw6aG92ZXIge1xcbiAgICBjdXJzb3I6IHBvaW50ZXI7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICMyZTRhOWE7XFxufVxcblxcbi5zaGlwLWNlbGw6aG92ZXIge1xcbiAgICBjdXJzb3I6IHBvaW50ZXI7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICNiZmRiZmU7XFxufVxcblxcbi5oaXQtY2VsbCB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICM4NmVmYWM7XFxufVxcblxcbi5taXNzLWNlbGwge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmNhNWE1O1xcbn1cXG5cXG4uaW52YWxpZC1jZWxsOmhvdmVyIHtcXG4gICAgY3Vyc29yOiBub3QtYWxsb3dlZDtcXG59XFxuXFxuLmNsaWNrLWJsb2NrZXIge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDEsIDEsIDEsIDAuMSk7XFxuICAgIHBvc2l0aW9uOiBmaXhlZDtcXG4gICAgYm90dG9tOiAwO1xcbiAgICBsZWZ0OiAwO1xcbiAgICByaWdodDogMDtcXG4gICAgdG9wOiAwO1xcbn1cXG4vKkVuZCBNYWluIGdhbWUgYXJlYSBzdHlsZSovXFxuXFxuLypGb290ZXIgc3R5bGUqL1xcbmZvb3RlciB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICNlNWU1ZTU7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbn1cXG5cXG4ucHJvamVjdC1saW5rcyB7XFxuICAgIGNvbG9yOiAjMjYyNjI2O1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gICAgZ2FwOiAyMHB4O1xcbn1cXG5cXG4uZ2l0LWxvZ28ge1xcbiAgICB3aWR0aDogMzJweDtcXG59XFxuLypFbmQgRm9vdGVyIHN0eWxlKi9cIiwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvc3R5bGUuY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBO0lBQ0ksc0JBQXNCO0lBQ3RCLHVCQUF1QjtJQUN2QixlQUFlO0lBQ2YseUJBQXlCO0lBQ3pCLGNBQWM7QUFDbEI7O0FBRUE7SUFDSSxhQUFhO0lBQ2IsWUFBWTtJQUNaLGFBQWE7SUFDYixpQ0FBaUM7SUFDakMseUJBQXlCO0lBQ3pCLGNBQWM7QUFDbEI7O0FBRUEsZUFBZTtBQUNmO0lBQ0ksYUFBYTtJQUNiLHVCQUF1QjtJQUN2QixtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxlQUFlO0FBQ25CO0FBQ0EsbUJBQW1COztBQUVuQix1QkFBdUI7QUFDdkI7SUFDSSxhQUFhO0lBQ2IsZ0NBQWdDO0lBQ2hDLG1CQUFtQjtJQUNuQixxQkFBcUI7QUFDekI7O0FBRUE7SUFDSSxhQUFhO0lBQ2Isd0RBQXdEO0lBQ3hELDZCQUE2QjtJQUM3QixVQUFVO0FBQ2Q7O0FBRUE7SUFDSSxZQUFZO0lBQ1osV0FBVztBQUNmOztBQUVBO0lBQ0ksYUFBYTtBQUNqQjs7QUFFQTtJQUNJLFlBQVk7SUFDWixhQUFhO0lBQ2IsYUFBYTtJQUNiLFFBQVE7SUFDUixtQ0FBbUM7SUFDbkMsc0NBQXNDO0FBQzFDOztBQUVBO0lBQ0ksWUFBWTtJQUNaLFdBQVc7SUFDWCx5QkFBeUI7QUFDN0I7O0FBRUE7SUFDSSx5QkFBeUI7QUFDN0I7O0FBRUE7SUFDSSxlQUFlO0lBQ2YseUJBQXlCO0FBQzdCOztBQUVBO0lBQ0ksZUFBZTtJQUNmLHlCQUF5QjtBQUM3Qjs7QUFFQTtJQUNJLHlCQUF5QjtBQUM3Qjs7QUFFQTtJQUNJLHlCQUF5QjtBQUM3Qjs7QUFFQTtJQUNJLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLG9DQUFvQztJQUNwQyxlQUFlO0lBQ2YsU0FBUztJQUNULE9BQU87SUFDUCxRQUFRO0lBQ1IsTUFBTTtBQUNWO0FBQ0EsMkJBQTJCOztBQUUzQixlQUFlO0FBQ2Y7SUFDSSx5QkFBeUI7SUFDekIsYUFBYTtJQUNiLG1CQUFtQjtJQUNuQix1QkFBdUI7QUFDM0I7O0FBRUE7SUFDSSxjQUFjO0lBQ2QsYUFBYTtJQUNiLHVCQUF1QjtJQUN2QixtQkFBbUI7SUFDbkIsU0FBUztBQUNiOztBQUVBO0lBQ0ksV0FBVztBQUNmO0FBQ0EsbUJBQW1CXCIsXCJzb3VyY2VzQ29udGVudFwiOltcImh0bWwge1xcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgICBmb250LWZhbWlseTogc2Fucy1zZXJpZjtcXG4gICAgZm9udC1zaXplOiAxNnB4O1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmFmYWZhO1xcbiAgICBjb2xvcjogIzI2MjYyNjtcXG59XFxuXFxuYm9keSB7XFxuICAgIGhlaWdodDogMTAwdmg7XFxuICAgIHdpZHRoOiAxMDB2dztcXG4gICAgZGlzcGxheTogZ3JpZDtcXG4gICAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiA0cmVtIDFmciAzcmVtO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMWUzYThhO1xcbiAgICBjb2xvcjogI2U1ZTVlNTtcXG59XFxuXFxuLypIZWFkZXIgc3R5bGUqL1xcbmhlYWRlciB7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcbn1cXG5cXG5oMSB7XFxuICAgIGZvbnQtc2l6ZTogM3JlbTtcXG59XFxuLypFbmQgSGVhZGVyIHN0eWxlKi9cXG5cXG4vKk1haW4gZ2FtZSBhcmVhIHN0eWxlKi9cXG5tYWluIHtcXG4gICAgZGlzcGxheTogZ3JpZDtcXG4gICAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiA0cmVtIDJlbSAxZnI7XFxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICAgIGp1c3RpZnktaXRlbXM6IGNlbnRlcjtcXG59XFxuXFxuLmJvYXJkLXNlY3Rpb24ge1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICAvKlRvIGFsbG93IGVhc3kgaW5zZXJ0aW9uIG9mIHNlY29uZCBnYW1lYm9hcmQgdG8gc2NyZWVuKi9cXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1hcm91bmQ7XFxuICAgIGdhcDogMTAwcHg7XFxufVxcblxcbiNheGlzLWJ1dHRvbiwgI3Jlc3RhcnQtYnV0dG9uIHtcXG4gICAgaGVpZ2h0OiAycmVtO1xcbiAgICB3aWR0aDogOHJlbTtcXG59XFxuXFxuI3Jlc3RhcnQtYnV0dG9uIHtcXG4gICAgZGlzcGxheTogbm9uZTtcXG59XFxuXFxuLmJvYXJkLXdyYXBwZXIge1xcbiAgICB3aWR0aDogNTAwcHg7XFxuICAgIGhlaWdodDogNTAwcHg7XFxuICAgIGRpc3BsYXk6IGdyaWQ7XFxuICAgIGdhcDogMnB4O1xcbiAgICBncmlkLXRlbXBsYXRlLXJvd3M6IHJlcGVhdCgxMCwgMWZyKTtcXG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoMTAsIDFmcik7XFxufVxcblxcbi5ib2FyZC1jZWxsIHtcXG4gICAgaGVpZ2h0OiAxMDAlO1xcbiAgICB3aWR0aDogMTAwJTtcXG4gICAgYm9yZGVyOiAycHggc29saWQgI2ZhZmFmYTtcXG59XFxuXFxuLnNoaXAtY2VsbCB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICM2MGE1ZmE7XFxufVxcblxcbi5ib2FyZC1jZWxsOmhvdmVyIHtcXG4gICAgY3Vyc29yOiBwb2ludGVyO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMmU0YTlhO1xcbn1cXG5cXG4uc2hpcC1jZWxsOmhvdmVyIHtcXG4gICAgY3Vyc29yOiBwb2ludGVyO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjYmZkYmZlO1xcbn1cXG5cXG4uaGl0LWNlbGwge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjODZlZmFjO1xcbn1cXG5cXG4ubWlzcy1jZWxsIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZjYTVhNTtcXG59XFxuXFxuLmludmFsaWQtY2VsbDpob3ZlciB7XFxuICAgIGN1cnNvcjogbm90LWFsbG93ZWQ7XFxufVxcblxcbi5jbGljay1ibG9ja2VyIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgxLCAxLCAxLCAwLjEpO1xcbiAgICBwb3NpdGlvbjogZml4ZWQ7XFxuICAgIGJvdHRvbTogMDtcXG4gICAgbGVmdDogMDtcXG4gICAgcmlnaHQ6IDA7XFxuICAgIHRvcDogMDtcXG59XFxuLypFbmQgTWFpbiBnYW1lIGFyZWEgc3R5bGUqL1xcblxcbi8qRm9vdGVyIHN0eWxlKi9cXG5mb290ZXIge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTVlNWU1O1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG59XFxuXFxuLnByb2plY3QtbGlua3Mge1xcbiAgICBjb2xvcjogIzI2MjYyNjtcXG4gICAgZGlzcGxheTogZmxleDtcXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICAgIGdhcDogMjBweDtcXG59XFxuXFxuLmdpdC1sb2dvIHtcXG4gICAgd2lkdGg6IDMycHg7XFxufVxcbi8qRW5kIEZvb3RlciBzdHlsZSovXCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzV2l0aE1hcHBpbmdUb1N0cmluZykge1xuICB2YXIgbGlzdCA9IFtdOyAvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG5cbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBcIlwiO1xuICAgICAgdmFyIG5lZWRMYXllciA9IHR5cGVvZiBpdGVtWzVdICE9PSBcInVuZGVmaW5lZFwiO1xuXG4gICAgICBpZiAoaXRlbVs0XSkge1xuICAgICAgICBjb250ZW50ICs9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQoaXRlbVs0XSwgXCIpIHtcIik7XG4gICAgICB9XG5cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIik7XG4gICAgICB9XG5cbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcbiAgICAgICAgY29udGVudCArPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpO1xuICAgICAgfVxuXG4gICAgICBjb250ZW50ICs9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSk7XG5cbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cblxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cblxuICAgICAgaWYgKGl0ZW1bNF0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfSkuam9pbihcIlwiKTtcbiAgfTsgLy8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcblxuXG4gIGxpc3QuaSA9IGZ1bmN0aW9uIGkobW9kdWxlcywgbWVkaWEsIGRlZHVwZSwgc3VwcG9ydHMsIGxheWVyKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCB1bmRlZmluZWRdXTtcbiAgICB9XG5cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXG4gICAgaWYgKGRlZHVwZSkge1xuICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCB0aGlzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgIHZhciBpZCA9IHRoaXNba11bMF07XG5cbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHZhciBfayA9IDA7IF9rIDwgbW9kdWxlcy5sZW5ndGg7IF9rKyspIHtcbiAgICAgIHZhciBpdGVtID0gW10uY29uY2F0KG1vZHVsZXNbX2tdKTtcblxuICAgICAgaWYgKGRlZHVwZSAmJiBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGxheWVyICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaXRlbVs1XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbGF5ZXJcIi5jb25jYXQoaXRlbVs1XS5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KGl0ZW1bNV0pIDogXCJcIiwgXCIge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAobWVkaWEpIHtcbiAgICAgICAgaWYgKCFpdGVtWzJdKSB7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoc3VwcG9ydHMpIHtcbiAgICAgICAgaWYgKCFpdGVtWzRdKSB7XG4gICAgICAgICAgaXRlbVs0XSA9IFwiXCIuY29uY2F0KHN1cHBvcnRzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChpdGVtWzRdLCBcIikge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bNF0gPSBzdXBwb3J0cztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBsaXN0O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXRlbSkge1xuICB2YXIgY29udGVudCA9IGl0ZW1bMV07XG4gIHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcblxuICBpZiAoIWNzc01hcHBpbmcpIHtcbiAgICByZXR1cm4gY29udGVudDtcbiAgfVxuXG4gIGlmICh0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGNzc01hcHBpbmcpKSkpO1xuICAgIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbiAgICB2YXIgc291cmNlVVJMcyA9IGNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgcmV0dXJuIFwiLyojIHNvdXJjZVVSTD1cIi5jb25jYXQoY3NzTWFwcGluZy5zb3VyY2VSb290IHx8IFwiXCIpLmNvbmNhdChzb3VyY2UsIFwiICovXCIpO1xuICAgIH0pO1xuICAgIHJldHVybiBbY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oXCJcXG5cIik7XG4gIH1cblxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oXCJcXG5cIik7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgc3R5bGVzSW5ET00gPSBbXTtcblxuZnVuY3Rpb24gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcikge1xuICB2YXIgcmVzdWx0ID0gLTE7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRPTS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHlsZXNJbkRPTVtpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSB7XG4gICAgICByZXN1bHQgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpIHtcbiAgdmFyIGlkQ291bnRNYXAgPSB7fTtcbiAgdmFyIGlkZW50aWZpZXJzID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xuICAgIHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuICAgIHZhciBjb3VudCA9IGlkQ291bnRNYXBbaWRdIHx8IDA7XG4gICAgdmFyIGlkZW50aWZpZXIgPSBcIlwiLmNvbmNhdChpZCwgXCIgXCIpLmNvbmNhdChjb3VudCk7XG4gICAgaWRDb3VudE1hcFtpZF0gPSBjb3VudCArIDE7XG4gICAgdmFyIGluZGV4QnlJZGVudGlmaWVyID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGNzczogaXRlbVsxXSxcbiAgICAgIG1lZGlhOiBpdGVtWzJdLFxuICAgICAgc291cmNlTWFwOiBpdGVtWzNdLFxuICAgICAgc3VwcG9ydHM6IGl0ZW1bNF0sXG4gICAgICBsYXllcjogaXRlbVs1XVxuICAgIH07XG5cbiAgICBpZiAoaW5kZXhCeUlkZW50aWZpZXIgIT09IC0xKSB7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleEJ5SWRlbnRpZmllcl0ucmVmZXJlbmNlcysrO1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhCeUlkZW50aWZpZXJdLnVwZGF0ZXIob2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHVwZGF0ZXIgPSBhZGRFbGVtZW50U3R5bGUob2JqLCBvcHRpb25zKTtcbiAgICAgIG9wdGlvbnMuYnlJbmRleCA9IGk7XG4gICAgICBzdHlsZXNJbkRPTS5zcGxpY2UoaSwgMCwge1xuICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyLFxuICAgICAgICB1cGRhdGVyOiB1cGRhdGVyLFxuICAgICAgICByZWZlcmVuY2VzOiAxXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZGVudGlmaWVycy5wdXNoKGlkZW50aWZpZXIpO1xuICB9XG5cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuXG5mdW5jdGlvbiBhZGRFbGVtZW50U3R5bGUob2JqLCBvcHRpb25zKSB7XG4gIHZhciBhcGkgPSBvcHRpb25zLmRvbUFQSShvcHRpb25zKTtcbiAgYXBpLnVwZGF0ZShvYmopO1xuXG4gIHZhciB1cGRhdGVyID0gZnVuY3Rpb24gdXBkYXRlcihuZXdPYmopIHtcbiAgICBpZiAobmV3T2JqKSB7XG4gICAgICBpZiAobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwICYmIG5ld09iai5zdXBwb3J0cyA9PT0gb2JqLnN1cHBvcnRzICYmIG5ld09iai5sYXllciA9PT0gb2JqLmxheWVyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgYXBpLnVwZGF0ZShvYmogPSBuZXdPYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVtb3ZlKCk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiB1cGRhdGVyO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChsaXN0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBsaXN0ID0gbGlzdCB8fCBbXTtcbiAgdmFyIGxhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XG4gICAgbmV3TGlzdCA9IG5ld0xpc3QgfHwgW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4XS5yZWZlcmVuY2VzLS07XG4gICAgfVxuXG4gICAgdmFyIG5ld0xhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShuZXdMaXN0LCBvcHRpb25zKTtcblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgX2lkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbX2ldO1xuXG4gICAgICB2YXIgX2luZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoX2lkZW50aWZpZXIpO1xuXG4gICAgICBpZiAoc3R5bGVzSW5ET01bX2luZGV4XS5yZWZlcmVuY2VzID09PSAwKSB7XG4gICAgICAgIHN0eWxlc0luRE9NW19pbmRleF0udXBkYXRlcigpO1xuXG4gICAgICAgIHN0eWxlc0luRE9NLnNwbGljZShfaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxhc3RJZGVudGlmaWVycyA9IG5ld0xhc3RJZGVudGlmaWVycztcbiAgfTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBtZW1vID0ge307XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cblxuZnVuY3Rpb24gZ2V0VGFyZ2V0KHRhcmdldCkge1xuICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHZhciBzdHlsZVRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTsgLy8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcblxuICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG4gICAgICAgIC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG4gICAgICAgIHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgIHN0eWxlVGFyZ2V0ID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcbiAgfVxuXG4gIHJldHVybiBtZW1vW3RhcmdldF07XG59XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cblxuXG5mdW5jdGlvbiBpbnNlcnRCeVNlbGVjdG9yKGluc2VydCwgc3R5bGUpIHtcbiAgdmFyIHRhcmdldCA9IGdldFRhcmdldChpbnNlcnQpO1xuXG4gIGlmICghdGFyZ2V0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgfVxuXG4gIHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaW5zZXJ0QnlTZWxlY3RvcjsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykge1xuICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgb3B0aW9ucy5zZXRBdHRyaWJ1dGVzKGVsZW1lbnQsIG9wdGlvbnMuYXR0cmlidXRlcyk7XG4gIG9wdGlvbnMuaW5zZXJ0KGVsZW1lbnQsIG9wdGlvbnMub3B0aW9ucyk7XG4gIHJldHVybiBlbGVtZW50O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydFN0eWxlRWxlbWVudDsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMoc3R5bGVFbGVtZW50KSB7XG4gIHZhciBub25jZSA9IHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyAhPT0gXCJ1bmRlZmluZWRcIiA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcblxuICBpZiAobm9uY2UpIHtcbiAgICBzdHlsZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgbm9uY2UpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGFwcGx5KHN0eWxlRWxlbWVudCwgb3B0aW9ucywgb2JqKSB7XG4gIHZhciBjc3MgPSBcIlwiO1xuXG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChvYmouc3VwcG9ydHMsIFwiKSB7XCIpO1xuICB9XG5cbiAgaWYgKG9iai5tZWRpYSkge1xuICAgIGNzcyArPSBcIkBtZWRpYSBcIi5jb25jYXQob2JqLm1lZGlhLCBcIiB7XCIpO1xuICB9XG5cbiAgdmFyIG5lZWRMYXllciA9IHR5cGVvZiBvYmoubGF5ZXIgIT09IFwidW5kZWZpbmVkXCI7XG5cbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIkBsYXllclwiLmNvbmNhdChvYmoubGF5ZXIubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChvYmoubGF5ZXIpIDogXCJcIiwgXCIge1wiKTtcbiAgfVxuXG4gIGNzcyArPSBvYmouY3NzO1xuXG4gIGlmIChuZWVkTGF5ZXIpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cblxuICBpZiAob2JqLm1lZGlhKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG5cbiAgaWYgKG9iai5zdXBwb3J0cykge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuXG4gIHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuXG4gIGlmIChzb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpLCBcIiAqL1wiKTtcbiAgfSAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG5cbiAgb3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybShjc3MsIHN0eWxlRWxlbWVudCwgb3B0aW9ucy5vcHRpb25zKTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCkge1xuICAvLyBpc3RhbmJ1bCBpZ25vcmUgaWZcbiAgaWYgKHN0eWxlRWxlbWVudC5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgc3R5bGVFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50KTtcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuXG5cbmZ1bmN0aW9uIGRvbUFQSShvcHRpb25zKSB7XG4gIHZhciBzdHlsZUVsZW1lbnQgPSBvcHRpb25zLmluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKTtcbiAgcmV0dXJuIHtcbiAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZShvYmopIHtcbiAgICAgIGFwcGx5KHN0eWxlRWxlbWVudCwgb3B0aW9ucywgb2JqKTtcbiAgICB9LFxuICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCk7XG4gICAgfVxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGRvbUFQSTsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBzdHlsZVRhZ1RyYW5zZm9ybShjc3MsIHN0eWxlRWxlbWVudCkge1xuICBpZiAoc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKTtcbiAgICB9XG5cbiAgICBzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzdHlsZVRhZ1RyYW5zZm9ybTsiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdGlkOiBtb2R1bGVJZCxcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiXG4gICAgICBpbXBvcnQgQVBJIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCI7XG4gICAgICBpbXBvcnQgZG9tQVBJIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRGbiBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanNcIjtcbiAgICAgIGltcG9ydCBzZXRBdHRyaWJ1dGVzIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0U3R5bGVFbGVtZW50IGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzXCI7XG4gICAgICBpbXBvcnQgc3R5bGVUYWdUcmFuc2Zvcm1GbiBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzXCI7XG4gICAgICBpbXBvcnQgY29udGVudCwgKiBhcyBuYW1lZEV4cG9ydCBmcm9tIFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3Jlc2V0LmNzc1wiO1xuICAgICAgXG4gICAgICBcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybSA9IHN0eWxlVGFnVHJhbnNmb3JtRm47XG5vcHRpb25zLnNldEF0dHJpYnV0ZXMgPSBzZXRBdHRyaWJ1dGVzO1xuXG4gICAgICBvcHRpb25zLmluc2VydCA9IGluc2VydEZuLmJpbmQobnVsbCwgXCJoZWFkXCIpO1xuICAgIFxub3B0aW9ucy5kb21BUEkgPSBkb21BUEk7XG5vcHRpb25zLmluc2VydFN0eWxlRWxlbWVudCA9IGluc2VydFN0eWxlRWxlbWVudDtcblxudmFyIHVwZGF0ZSA9IEFQSShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCAqIGZyb20gXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vcmVzZXQuY3NzXCI7XG4gICAgICAgZXhwb3J0IGRlZmF1bHQgY29udGVudCAmJiBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDogdW5kZWZpbmVkO1xuIiwiXG4gICAgICBpbXBvcnQgQVBJIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCI7XG4gICAgICBpbXBvcnQgZG9tQVBJIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRGbiBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanNcIjtcbiAgICAgIGltcG9ydCBzZXRBdHRyaWJ1dGVzIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0U3R5bGVFbGVtZW50IGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzXCI7XG4gICAgICBpbXBvcnQgc3R5bGVUYWdUcmFuc2Zvcm1GbiBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzXCI7XG4gICAgICBpbXBvcnQgY29udGVudCwgKiBhcyBuYW1lZEV4cG9ydCBmcm9tIFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlLmNzc1wiO1xuICAgICAgXG4gICAgICBcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybSA9IHN0eWxlVGFnVHJhbnNmb3JtRm47XG5vcHRpb25zLnNldEF0dHJpYnV0ZXMgPSBzZXRBdHRyaWJ1dGVzO1xuXG4gICAgICBvcHRpb25zLmluc2VydCA9IGluc2VydEZuLmJpbmQobnVsbCwgXCJoZWFkXCIpO1xuICAgIFxub3B0aW9ucy5kb21BUEkgPSBkb21BUEk7XG5vcHRpb25zLmluc2VydFN0eWxlRWxlbWVudCA9IGluc2VydFN0eWxlRWxlbWVudDtcblxudmFyIHVwZGF0ZSA9IEFQSShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCAqIGZyb20gXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGUuY3NzXCI7XG4gICAgICAgZXhwb3J0IGRlZmF1bHQgY29udGVudCAmJiBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDogdW5kZWZpbmVkO1xuIiwiY29uc3QgU2hpcCA9IChzaGlwTGVuZ3RoKSA9PiB7XG5cbiAgICBjb25zdCBfbGVuZ3RoID0gc2hpcExlbmd0aDtcbiAgICBsZXQgX3N1bmsgPSBmYWxzZTtcbiAgICBsZXQgX2hpdFN0YXR1cyA9IFtdO1xuXG4gICAgY29uc3QgX2luaXRpYWxpemVTdGF0dXMgPSAoKCkgPT4ge1xuICAgICAgICBsZXQgaGl0cyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IF9sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgX2hpdFN0YXR1cy5wdXNoKGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH0pKCk7XG5cbiAgICBjb25zdCBoaXQgPSAoaW5kZXgpID0+IHtcbiAgICAgICAgX2hpdFN0YXR1c1tpbmRleF0gPSB0cnVlO1xuICAgICAgICByZXR1cm4gX2hpdFN0YXR1cztcbiAgICB9XG5cbiAgICBjb25zdCBpc1N1bmsgPSAoKSA9PiB7XG4gICAgICAgIF9zdW5rID0gdHJ1ZTtcbiAgICAgICAgZm9yIChjb25zdCBoaXQgb2YgX2hpdFN0YXR1cykge1xuICAgICAgICAgICAgaWYgKGhpdCA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIF9zdW5rID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9zdW5rO1xuICAgIH1cbiAgIFxuICAgIHJldHVybiB7aXNTdW5rLCBoaXR9O1xufVxuXG5leHBvcnQge1NoaXB9OyIsImltcG9ydCB7IFNoaXAgfSBmcm9tIFwiLi9TaGlwXCI7XG5pbXBvcnQgeyBHYW1lIH0gZnJvbSBcIi4vR2FtZVwiO1xuXG5jb25zdCBHYW1lYm9hcmQgPSAoKSA9PiB7XG4gICAgY29uc3QgX0JPQVJEU0laRSA9IDEwO1xuICAgIGNvbnN0IF9NSVNTID0gMDtcbiAgICBjb25zdCBfSElUID0gMTtcbiAgICBjb25zdCBfREVGQVVMVF9TSElQX09SSUVOVEFUSU9OID0gJ1ZFUlRJQ0FMJztcbiAgICBsZXQgX3NoaXBPcmllbnRhdGlvbiA9IF9ERUZBVUxUX1NISVBfT1JJRU5UQVRJT047XG4gICAgbGV0IF9ib2FyZCA9IFtdO1xuICAgIGxldCBfc2hpcExpc3QgPSBbXTtcbiAgICBsZXQgX3Nob3RzRmlyZWQgPSBbXTtcbiAgICBsZXQgX3NoaXBzUGxhY2VkID0gMDtcbiAgICBcbiAgICBjb25zdCBjaGFuZ2VTaGlwT3JpZW50YXRpb24gPSAoKSA9PiB7XG4gICAgICAgIF9zaGlwT3JpZW50YXRpb24gPSAgX3NoaXBPcmllbnRhdGlvbiA9PT0gJ1ZFUlRJQ0FMJyA/ICdIT1JJWk9OVEFMJyA6ICdWRVJUSUNBTCc7XG4gICAgfVxuXG4gICAgY29uc3QgZ2V0U2hpcE9yaWVudGF0aW9uID0gKCkgPT4ge1xuICAgICAgICByZXR1cm4gX3NoaXBPcmllbnRhdGlvbjtcbiAgICB9XG5cbiAgICBjb25zdCBpc1ZhbGlkUGxhY2VtZW50ID0gKGksIGopID0+IHtcbiAgICAgICAgaWYgKF9zaGlwc1BsYWNlZCA8IDUpIHtcbiAgICAgICAgICAgIGlmIChfc2hpcE9yaWVudGF0aW9uID09PSAnVkVSVElDQUwnICYmIF9zaGlwc1BsYWNlZCA9PT0gMCAmJiBpID4gOCkge1xuICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoX3NoaXBPcmllbnRhdGlvbiA9PT0gJ1ZFUlRJQ0FMJyAmJiBpID4gKDktX3NoaXBzUGxhY2VkKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKF9zaGlwT3JpZW50YXRpb24gPT09ICdWRVJUSUNBTCcgJiYgX3NoaXBzUGxhY2VkID4gMCkge1xuICAgICAgICAgICAgICAgIGxldCBzaGlwQ2hlY2sgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBuID0gMDsgbiA8IChfc2hpcHNQbGFjZWQrMSk7IG4rKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2JvYXJkW2krbl1bal0gIT09IC0xIHx8IF9ib2FyZFtpK24rMV1bal0gIT09IC0xIHx8IF9ib2FyZFtpK24tMV1bal0gIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaGlwQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzaGlwQ2hlY2spIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSAgICAgICAgICAgIFxuICAgICAgICAgICAgZWxzZSBpZiAoX3NoaXBPcmllbnRhdGlvbiA9PT0gJ0hPUklaT05UQUwnICYmIF9zaGlwc1BsYWNlZCA9PT0gMCAmJiBqID4gOCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKF9zaGlwT3JpZW50YXRpb24gPT09ICdIT1JJWk9OVEFMJyAmJiBqID4gKDktX3NoaXBzUGxhY2VkKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKF9zaGlwT3JpZW50YXRpb24gPT09ICdIT1JJWk9OVEFMJyAmJiBfc2hpcHNQbGFjZWQgPiAwKSB7XG4gICAgICAgICAgICAgICAgbGV0IHNoaXBDaGVjayA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IG4gPSAwOyBuIDwgKF9zaGlwc1BsYWNlZCsxKTsgbisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfYm9hcmRbaV1baituXSAhPT0gLTEgfHwgX2JvYXJkW2ldW2orbisxXSAhPT0gLTEgfHwgX2JvYXJkW2ldW2orbi0xXSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoaXBDaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHNoaXBDaGVjaykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9ICBcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgY29uc3QgX2luaXRCb2FyZCA9ICgpID0+IHtcbiAgICAgICAgX2JvYXJkID0gW107XG4gICAgICAgIF9zaG90c0ZpcmVkID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgX0JPQVJEU0laRTsgaSsrKSB7XG4gICAgICAgICAgICBfYm9hcmQucHVzaChbXSk7XG4gICAgICAgICAgICBfc2hvdHNGaXJlZC5wdXNoKFtdKTtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgX0JPQVJEU0laRTsgaisrKSB7XG4gICAgICAgICAgICAgICAgX2JvYXJkW2ldLnB1c2goLTEpO1xuICAgICAgICAgICAgICAgIF9zaG90c0ZpcmVkW2ldLnB1c2goLTEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IF9pbml0U2hpcHMgPSAoKSA9PiB7XG4gICAgICAgIF9zaGlwTGlzdCA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8PSA1OyBpKyspIHtcbiAgICAgICAgICAgIGlmIChpID09PSAxKSB7XG4gICAgICAgICAgICAgICAgX3NoaXBMaXN0LnB1c2goU2hpcChpKzEpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIF9zaGlwTGlzdC5wdXNoKFNoaXAoaSkpO1xuICAgICAgICAgICAgfSAgICAgXG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLy9JbW1lZGlhdGVseSBpbnZva2UgdXBvbiBib2FyZCBjcmVhdGlvbiB0byBpbml0aWFsaXplIHN0YXRlXG4gICAgY29uc3QgX2luaXRpYWxCb2FyZFN0YXRlID0gKCgpID0+IHtcbiAgICAgICAgX2luaXRCb2FyZCgpO1xuICAgICAgICBfaW5pdFNoaXBzKCk7XG4gICAgfSkoKTtcblxuICAgIGNvbnN0IHJlc2V0Qm9hcmQgPSAoKSA9PiB7XG4gICAgICAgIF9pbml0Qm9hcmQoKTtcbiAgICAgICAgX2luaXRTaGlwcygpO1xuICAgICAgICBfc2hpcHNQbGFjZWQgPSAwO1xuICAgICAgICBfc2hpcE9yaWVudGF0aW9uID0gJ1ZFUlRJQ0FMJztcbiAgICB9XG5cbiAgICBjb25zdCBwbGFjZVNoaXAgPSAoc2hpcCwgeDEseTEseDIseTIpID0+IHtcblxuICAgICAgICBpZiAoc2hpcCA+PSBfc2hpcExpc3QubGVuZ3RoIHx8IHNoaXAgPCAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHNoaXAgZXhpc3RzIGF0IHByb3ZpZGVkIGluZGV4Jyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHgxID49IF9CT0FSRFNJWkUgfHwgeTEgPj0gX0JPQVJEU0laRSB8fHgyID49IF9CT0FSRFNJWkUgfHwgeTIgPj0gX0JPQVJEU0laRSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGNvb3JkaW5hdGVzIHJlY2VpdmVkLiBPdXQgb2YgYm91bmRzJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHgxIDwgMCB8fCB5MSA8IDB8fCB4MiA8IDAgfHwgeTIgPCAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgY29vcmRpbmF0ZXMgcmVjZWl2ZWQuIE91dCBvZiBib3VuZHMnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBjdXJySW5kZXggPSAwO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSB4MTsgaSA8PSB4MjsgaSsrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0geTE7IGogPD0geTI7IGorKykge1xuICAgICAgICAgICAgICAgIF9ib2FyZFtpXVtqXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgc2hpcDogc2hpcCxcbiAgICAgICAgICAgICAgICAgICAgc2hpcEluZGV4OiBjdXJySW5kZXhcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGN1cnJJbmRleCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIF9zaGlwc1BsYWNlZCsrO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIFtfYm9hcmRbeDFdW3kxXS5zaGlwLCBfYm9hcmRbeDJdW3kyXS5zaGlwXTtcbiAgICB9XG5cbiAgICBjb25zdCByZWNlaXZlQXR0YWNrID0gKHgxLHkxKSA9PiB7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgIGlmICh0eXBlb2YgX2JvYXJkW3gxXVt5MV0gPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBfc2hpcExpc3RbX2JvYXJkW3gxXVt5MV0uc2hpcF0uaGl0KF9ib2FyZFt4MV1beTFdLnNoaXBJbmRleCk7XG4gICAgICAgICAgICBfc2hvdHNGaXJlZFt4MV1beTFdID0gX0hJVDtcbiAgICAgICAgICAgIHJldHVybiAnSElUJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIF9zaG90c0ZpcmVkW3gxXVt5MV0gPSBfTUlTUztcbiAgICAgICAgICAgIHJldHVybiAnTUlTUyc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBpc0FsbFN1bmsgPSAoKSA9PiB7XG4gICAgICAgIGxldCBhbGxTdW5rID0gdHJ1ZTtcblxuICAgICAgICBmb3IgKGNvbnN0IHNoaXAgb2YgX3NoaXBMaXN0KSB7XG4gICAgICAgICAgICBpZiAoIXNoaXAuaXNTdW5rKCkpIHtcbiAgICAgICAgICAgICAgICBhbGxTdW5rID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFsbFN1bms7XG4gICAgfVxuXG4gICAgY29uc3QgZ2V0U2hvdFN0YXR1cyA9ICh4LCB5KSA9PiB7XG4gICAgICAgIGlmICh4ID49IF9CT0FSRFNJWkUgfHwgeSA+PSBfQk9BUkRTSVpFKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgY29vcmRpbmF0ZXMgcmVjZWl2ZWQuIE91dCBvZiBib3VuZHMnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoeCA8IDAgfHwgeSA8IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBjb29yZGluYXRlcyByZWNlaXZlZC4gT3V0IG9mIGJvdW5kcycpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBsZXQgc3RhdHVzID0gX3Nob3RzRmlyZWRbeF1beV07XG5cbiAgICAgICAgaWYgKHN0YXR1cyA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiAnTm8gc2hvdCBmaXJlZCc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc3RhdHVzID09PSBfSElUKSB7XG4gICAgICAgICAgICByZXR1cm4gJ0hJVCc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc3RhdHVzID09PSBfTUlTUykge1xuICAgICAgICAgICAgcmV0dXJuICdNSVNTJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBjb29yZGluYXRlIHJlY2VpdmVkJyk7XG4gICAgICAgIH1cblxuICAgICAgICBcbiAgICB9XG5cbiAgICBjb25zdCBwcmludEJvYXJkID0gKCkgPT4ge1xuICAgICAgICBsZXQgYm9hcmRTdHIgPSAnJzsgXG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBfQk9BUkRTSVpFOyBpKyspIHsgXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IF9CT0FSRFNJWkU7IGorKykge1xuICAgICAgICAgICAgICAgIGJvYXJkU3RyICs9IF9ib2FyZFtpXVtqXSArICcsICc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBib2FyZFN0ciArPSAnXFxuJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYm9hcmRTdHI7XG4gICAgfVxuXG4gICAgY29uc3QgZ2V0Qm9hcmQgPSAoKSA9PiB7XG4gICAgICAgIHJldHVybiBfYm9hcmQ7XG4gICAgfVxuXG4gICAgY29uc3QgZ2V0U2hpcHNQbGFjZWQgPSAoKSA9PiB7XG4gICAgICAgIHJldHVybiBfc2hpcHNQbGFjZWQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtwbGFjZVNoaXAsIHJlY2VpdmVBdHRhY2ssIGlzQWxsU3VuaywgZ2V0U2hvdFN0YXR1cywgcHJpbnRCb2FyZCwgZ2V0Qm9hcmQsIGdldFNoaXBzUGxhY2VkLCBjaGFuZ2VTaGlwT3JpZW50YXRpb24sIGdldFNoaXBPcmllbnRhdGlvbiwgaXNWYWxpZFBsYWNlbWVudCwgcmVzZXRCb2FyZH07XG59XG5cbmV4cG9ydCB7R2FtZWJvYXJkfTsiLCJpbXBvcnQgeyBHYW1lIH0gZnJvbSBcIi4vR2FtZVwiO1xuaW1wb3J0IHsgR2FtZWJvYXJkIH0gZnJvbSBcIi4vR2FtZWJvYXJkXCI7XG5cbmNvbnN0IGNyZWF0ZUdhbWVib2FyZERPTSA9ICgoKSA9PiB7XG5cbiAgICBjb25zdCBfYWRkVmVydGljYWxTaGlwID0gKGJvYXJkQ2VsbCwgcGxheWVyQm9hcmQsIGksIGopID0+IHtcbiAgICAgICAgbGV0IHNoaXBzUGxhY2VkID0gcGxheWVyQm9hcmQuZ2V0U2hpcHNQbGFjZWQoKTtcbiAgICAgICAgaWYgKHNoaXBzUGxhY2VkIDwgNSkge1xuICAgICAgICAgICAgaWYgKHNoaXBzUGxhY2VkID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcGxheWVyQm9hcmQucGxhY2VTaGlwKHNoaXBzUGxhY2VkLCBpLCBqLCBpKzEsIGopO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IG4gPSAwOyBuIDwgc2hpcHNQbGFjZWQrMjsgbisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwbGF5ZXInKyhpK24pK2opLmNsYXNzTGlzdC5hZGQoJ3NoaXAtY2VsbCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHBsYXllckJvYXJkLnBsYWNlU2hpcChzaGlwc1BsYWNlZCwgaSwgaiwgaStzaGlwc1BsYWNlZCwgaik7XG4gICAgICAgICAgICAgICAgYm9hcmRDZWxsLmNsYXNzTGlzdC5hZGQoJ3NoaXAtY2VsbCcpO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IG4gPSAwOyBuIDwgc2hpcHNQbGFjZWQrMTsgbisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwbGF5ZXInKyhpK24pK2opLmNsYXNzTGlzdC5hZGQoJ3NoaXAtY2VsbCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IF9hZGRIb3Jpem9udGFsU2hpcCA9IChib2FyZENlbGwsIHBsYXllckJvYXJkLCBpLCBqKSA9PiB7XG4gICAgICAgIGxldCBzaGlwc1BsYWNlZCA9IHBsYXllckJvYXJkLmdldFNoaXBzUGxhY2VkKCk7XG4gICAgICAgIGlmIChzaGlwc1BsYWNlZCA8IDUpIHtcbiAgICAgICAgICAgIGlmIChzaGlwc1BsYWNlZCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHBsYXllckJvYXJkLnBsYWNlU2hpcChzaGlwc1BsYWNlZCwgaSwgaiwgaSwgaisxKTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBuID0gMDsgbiA8IHNoaXBzUGxhY2VkKzI7IG4rKykge1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGxheWVyJytpKyhqK24pKS5jbGFzc0xpc3QuYWRkKCdzaGlwLWNlbGwnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwbGF5ZXJCb2FyZC5wbGFjZVNoaXAoc2hpcHNQbGFjZWQsIGksIGosIGksIGorc2hpcHNQbGFjZWQpO1xuICAgICAgICAgICAgICAgIGJvYXJkQ2VsbC5jbGFzc0xpc3QuYWRkKCdzaGlwLWNlbGwnKTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBuID0gMDsgbiA8IHNoaXBzUGxhY2VkKzE7IG4rKykge1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGxheWVyJytpKyhqK24pKS5jbGFzc0xpc3QuYWRkKCdzaGlwLWNlbGwnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBfY3JlYXRlUGxheWVyQm9hcmQgPSAoY29tcFBsYXllciwgcGxheWVyQm9hcmQsIGNvbXBCb2FyZCkgPT4ge1xuICAgICAgICBjb25zdCBib2FyZFdyYXBwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGxheWVyLWJvYXJkJyk7XG4gICAgICAgIC8vZGVmYXVsdCBkZXNrdG9wIGhlaWdodC93aWR0aCBpbiBweFxuICAgICAgICBcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDEwOyBqKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBib2FyZENlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICBib2FyZENlbGwuY2xhc3NMaXN0LmFkZCgnYm9hcmQtY2VsbCcpO1xuICAgICAgICAgICAgICAgIGJvYXJkQ2VsbC5pZCA9ICdwbGF5ZXInK2krajtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHBsYXllckJvYXJkLmdldEJvYXJkKClbaV1bal0gPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgYm9hcmRDZWxsLmNsYXNzTGlzdC5hZGQoJ3NoaXAtY2VsbCcpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGJvYXJkQ2VsbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBsYXllckJvYXJkLmlzVmFsaWRQbGFjZW1lbnQoaSxqKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYm9hcmRDZWxsLmNsYXNzTGlzdC5yZW1vdmUoJ2ludmFsaWQtY2VsbCcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYm9hcmRDZWxsLmNsYXNzTGlzdC5hZGQoJ2ludmFsaWQtY2VsbCcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBib2FyZENlbGwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNoaXBPcmllbnRhdGlvbiA9IHBsYXllckJvYXJkLmdldFNoaXBPcmllbnRhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2hpcE9yaWVudGF0aW9uID09PSAnVkVSVElDQUwnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYWRkVmVydGljYWxTaGlwKGJvYXJkQ2VsbCwgcGxheWVyQm9hcmQsIGksIGopO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNoaXBPcmllbnRhdGlvbiA9PT0gJ0hPUklaT05UQUwnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYWRkSG9yaXpvbnRhbFNoaXAoYm9hcmRDZWxsLCBwbGF5ZXJCb2FyZCwgaSwgaik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBsYXllckJvYXJkLmdldFNoaXBzUGxhY2VkKCkgPj0gNSkge1xuICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29tcHV0ZXItYm9hcmQnKS5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnZGlzcGxheScpO1xuICAgICAgICAgICAgICAgICAgICAgICAvL3N3aXRjaCBidXR0b24gb3B0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXhpcy1idXR0b24nKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzdGFydC1idXR0b24nKS5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZSc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgICoqKioqKioqKioqKioqKioqKioqKioqKlxuICAgICAgICAgICAgICAgIE5vIGxvbmdlciBuZWVkIGV2ZW50IGxpc3RlbmVyIHNpbmNlIGNvbXB1dGVyIGF0dGFja3MgYXJlIGFzc2lnbmVkIHdpdGggY29kZVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIENvdWxkIGJlIHVzZWQgZm9yIGEgdHdvIHBsYXllciBnYW1lIG9wdGlvbiBsYXRlclxuICAgICAgICAgICAgICAgICoqKioqKioqKioqKioqKioqKioqKioqKlxuICAgICAgICAgICAgICAgIGJvYXJkQ2VsbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgR2FtZS5nYW1lVHVybihjb21wUGxheWVyLCBjb21wQm9hcmQsIHBsYXllckJvYXJkLCBpLCBqKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGJvYXJkV3JhcHBlci5hcHBlbmRDaGlsZChib2FyZENlbGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgX2NyZWF0ZUNvbXBCb2FyZCA9IChwbGF5ZXIsIHBsYXllckJvYXJkLCBjb21wQm9hcmQpID0+IHtcbiAgICAgICAgY29uc3QgYm9hcmRXcmFwcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbXB1dGVyLWJvYXJkJyk7XG4gICAgICAgIC8vZGVmYXVsdCBkZXNrdG9wIGhlaWdodC93aWR0aCBpbiBweFxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwOyBpKyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgMTA7IGorKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJvYXJkQ2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgICAgIGJvYXJkQ2VsbC5jbGFzc0xpc3QuYWRkKCdib2FyZC1jZWxsJyk7XG4gICAgICAgICAgICAgICAgYm9hcmRDZWxsLmlkID0gJ2NvbXAnK2krajtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNvbXBCb2FyZC5nZXRCb2FyZCgpW2ldW2pdID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGJvYXJkQ2VsbC5jbGFzc0xpc3QuYWRkKCdzaGlwLWNlbGwnKTtcbiAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBib2FyZENlbGwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghR2FtZS5nZXRHYW1lT3ZlcigpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBHYW1lLmdhbWVUdXJuKHBsYXllciwgcGxheWVyQm9hcmQsIGNvbXBCb2FyZCwgaSwgaik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBib2FyZFdyYXBwZXIuYXBwZW5kQ2hpbGQoYm9hcmRDZWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBib2FyZFdyYXBwZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB9XG5cbiAgICBjb25zdCBpbml0Qm9hcmRzID0gKHBsYXllciwgY29tcFBsYXllciwgcGxheWVyQm9hcmQsIGNvbXBCb2FyZCkgPT4ge1xuICAgICAgICBfY3JlYXRlUGxheWVyQm9hcmQoY29tcFBsYXllciwgcGxheWVyQm9hcmQsIGNvbXBCb2FyZCk7XG4gICAgICAgIF9jcmVhdGVDb21wQm9hcmQocGxheWVyLCBwbGF5ZXJCb2FyZCwgY29tcEJvYXJkKTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc3RhcnQtYnV0dG9uJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIEdhbWUucmVzdGFydEdhbWUoKTtcbiAgICAgICAgICAgIC8vc3dpdGNoIGJ1dHRvbnNcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdheGlzLWJ1dHRvbicpLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lJztcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXN0YXJ0LWJ1dHRvbicpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIH0pO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXhpcy1idXR0b24nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcGxheWVyQm9hcmQuY2hhbmdlU2hpcE9yaWVudGF0aW9uKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIFxuICAgIH1cblxuICAgIHJldHVybiB7aW5pdEJvYXJkc307XG59KSgpO1xuXG5leHBvcnQge2NyZWF0ZUdhbWVib2FyZERPTX07IiwiY29uc3QgUGxheWVyID0gKGlzSHVtYW4pID0+IHtcblxuICAgIGNvbnN0IF9pc0h1bWFuID0gaXNIdW1hbjtcblxuICAgIGNvbnN0IF9pc0F0dGFja0xlZ2FsID0gKGdhbWVib2FyZCwgeCx5KSA9PiB7XG4gICAgICAgIGlmICghZ2FtZWJvYXJkLmhhc093blByb3BlcnR5KCdwbGFjZVNoaXAnKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGdhbWVib2FyZCBvYmplY3QgcmVjZWl2ZWQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmKGdhbWVib2FyZC5nZXRTaG90U3RhdHVzKHgseSkgPT09ICdISVQnIHx8IGdhbWVib2FyZC5nZXRTaG90U3RhdHVzKHgseSkgPT09ICdNSVNTJykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBhdHRhY2sgPSAoZ2FtZWJvYXJkLCB4LHkpID0+IHtcbiAgICAgICAgaWYgKCFnYW1lYm9hcmQuaGFzT3duUHJvcGVydHkoJ3BsYWNlU2hpcCcpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgZ2FtZWJvYXJkIG9iamVjdCByZWNlaXZlZCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF9pc0F0dGFja0xlZ2FsKGdhbWVib2FyZCwgeCwgeSkpIHtcbiAgICAgICAgICAgIGdhbWVib2FyZC5yZWNlaXZlQXR0YWNrKHgseSk7XG4gICAgICAgICAgICByZXR1cm4gZ2FtZWJvYXJkLmdldFNob3RTdGF0dXMoeCx5KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAnQXR0YWNrIGZhaWxlZC4gQ2Fubm90IGF0dGFjayBzYW1lIHNxdWFyZSB0d2ljZSc7XG4gICAgICAgIH0gICBcbiAgICB9XG5cbiAgICBjb25zdCBpc1BsYXllckh1bWFuID0gKCkgPT4ge1xuICAgICAgICByZXR1cm4gX2lzSHVtYW47XG4gICAgfVxuXG4gICAgcmV0dXJuIHthdHRhY2ssIGlzUGxheWVySHVtYW59O1xufVxuXG5leHBvcnQge1BsYXllcn07IiwiY29uc3QgbWF0aExvZ2ljID0gKCgpID0+IHtcblxuICAgIC8vbWluIGluY2x1c2l2ZSwgbWF4IGV4Y2x1c2l2ZVxuICAgIGNvbnN0IGdldFJhbmRvbUludCA9IChtaW4sIG1heCkgPT4ge1xuICAgICAgICBtaW4gPSBNYXRoLmNlaWwobWluKTtcbiAgICAgICAgbWF4ID0gTWF0aC5mbG9vcihtYXgpO1xuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikgKyBtaW4pO1xuICAgIH1cblxuICAgIHJldHVybiB7Z2V0UmFuZG9tSW50fVxufSkoKTtcblxuZXhwb3J0IHttYXRoTG9naWN9OyIsImNvbnN0IGRpc3BsYXlDb250cm9sbGVyID0gKCgpID0+IHtcbiAgICBjb25zdCBtZXNzYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1lc3NhZ2UtdGV4dCcpO1xuXG4gICAgY29uc3QgcGxhY2VTaGlwc01lc3NhZ2UgPSAoKSA9PiB7XG4gICAgICAgIG1lc3NhZ2UudGV4dENvbnRlbnQgPSAnQ2xpY2sgdGhlIGJvYXJkIHRvIHBsYWNlIHlvdXIgc2hpcHMuIENsaWNrIFwiUm90YXRlIFNoaXBcIiB0byBjaGFuZ2UgZGlyZWN0aW9uLic7XG4gICAgfVxuXG4gICAgY29uc3Qgc2hvdFJlc3VsdCA9IChzaG90LCB4LCB5KSA9PiB7XG4gICAgICAgIG1lc3NhZ2UudGV4dENvbnRlbnQgPSBzaG90O1xuICAgICAgICAvL21lc3NhZ2UudGV4dENvbnRlbnQgKz0gYC4gQXR0YWNrIHJlY2VpdmVkIGF0ICR7eH0sJHt5fS4gYDtcbiAgICB9XG5cbiAgICBjb25zdCBhZGRDdXJyZW50VHVyblRvTWVzc2FnZSA9ICh0dXJuKSA9PiB7XG4gICAgICAgIGlmICh0dXJuID09PSAnUExBWUVSJykge1xuICAgICAgICAgICAgbWVzc2FnZS50ZXh0Q29udGVudCArPSAnLiBQbGF5ZXIgdHVybi4gQ2xpY2sgYSBzcXVhcmUgdG8gbGF1bmNoIGFuIGF0dGFjayEnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbWVzc2FnZS50ZXh0Q29udGVudCArPSAnLiBDb21wdXRlciB0YWtpbmcgdHVybi4gQXR0YWNraW5nLi4uJztcbiAgICAgICAgfVxuICAgICAgICBcbiAgICB9XG5cbiAgICBjb25zdCBkaXNwbGF5TWVzc2FnZSA9IChtc2cpID0+IHtcbiAgICAgICAgbWVzc2FnZS50ZXh0Q29udGVudCA9IG1zZztcbiAgICB9XG5cbiAgICByZXR1cm4ge3BsYWNlU2hpcHNNZXNzYWdlLCBzaG90UmVzdWx0LCBhZGRDdXJyZW50VHVyblRvTWVzc2FnZSwgZGlzcGxheU1lc3NhZ2V9O1xufSkoKTtcblxuZXhwb3J0IHtkaXNwbGF5Q29udHJvbGxlcn07IiwiaW1wb3J0IHsgY3JlYXRlR2FtZWJvYXJkRE9NIH0gZnJvbSBcIi4vY3JlYXRlR2FtZWJvYXJkRE9NXCI7XG5pbXBvcnQgeyBHYW1lYm9hcmQgfSBmcm9tIFwiLi9HYW1lYm9hcmRcIjtcbmltcG9ydCB7IFBsYXllciB9IGZyb20gXCIuL1BsYXllclwiO1xuaW1wb3J0IHsgbWF0aExvZ2ljIH0gZnJvbSBcIi4vbWF0aExvZ2ljXCI7XG5pbXBvcnQgeyBkaXNwbGF5Q29udHJvbGxlciB9IGZyb20gXCIuL2Rpc3BsYXlDb250cm9sbGVyXCI7XG5cbmNvbnN0IEdhbWUgPSAoKCkgPT4ge1xuXG4gICAgY29uc3QgcGxheWVyID0gUGxheWVyKHRydWUpO1xuICAgIGNvbnN0IGNvbXBQbGF5ZXIgPSBQbGF5ZXIoZmFsc2UpO1xuICAgIGNvbnN0IHBsYXllckJvYXJkID0gR2FtZWJvYXJkKCk7XG4gICAgY29uc3QgY29tcEJvYXJkID0gR2FtZWJvYXJkKCk7XG4gICAgbGV0IHR1cm4gPSAnUExBWUVSJztcbiAgICBsZXQgX2dhbWVPdmVyID0gZmFsc2U7XG5cbiAgICBjb25zdCBnZXRHYW1lT3ZlciA9ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIF9nYW1lT3ZlcjtcbiAgICB9XG5cbiAgICBjb25zdCBnZXRUdXJuID0gKCkgPT4ge1xuICAgICAgICByZXR1cm4gdHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBfcGxhY2VDb21wU2hpcHMgPSAoKSA9PiB7XG4gICAgICAgIC8vRURJVCBORUVERURcbiAgICAgICAgLy9BZGQgYWJpbGl0eSBmb3IgY29tcHV0ZXIgdG8gcmFuZG9tbHkgcGxhY2Ugc2hpcHNcbiAgICAgICAgXG4gICAgICAgIC8qXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNTsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgeDEgPSBtYXRoTG9naWMuZ2V0UmFuZG9tSW50KDAsIDkpO1xuICAgICAgICAgICAgbGV0IHkxID0gbWF0aExvZ2ljLmdldFJhbmRvbUludCgwLCA5KTtcbiAgICAgICAgICAgIHdoaWxlICghY29tcEJvYXJkLmlzVmFsaWRQbGFjZW1lbnQoeDEseTEpKSB7XG4gICAgICAgICAgICAgICAgeDEgPSBtYXRoTG9naWMuZ2V0UmFuZG9tSW50KDAsIDkpO1xuICAgICAgICAgICAgICAgIHkxID0gbWF0aExvZ2ljLmdldFJhbmRvbUludCgwLCA5KTtcbiAgICAgICAgICAgICAgICBjb21wQm9hcmQuY2hhbmdlU2hpcE9yaWVudGF0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKGNvbXBCb2FyZC5nZXRTaGlwT3JpZW50YXRpb24oKSA9PT0gJ1ZFUlRJQ0FMJykge1xuXG4gICAgICAgICAgICAgICAgaWYgKGkgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcEJvYXJkLnBsYWNlU2hpcChpLCB4MSwgeTEsIHgxK2krMSwgeTEpO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnc2hpcCBwbGFjZWQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBCb2FyZC5wbGFjZVNoaXAoaSwgeDEsIHkxLCB4MStpLCB5MSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzaGlwIHBsYWNlZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNvbXBCb2FyZC5nZXRTaGlwT3JpZW50YXRpb24oKSA9PT0gJ0hPUklaT05UQUwnKSB7XG4gICAgICAgICAgICAgICAgaWYgKGkgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcEJvYXJkLnBsYWNlU2hpcChpLCB4MSwgeTEsIHgxLCB5MStpKzEpO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnc2hpcCBwbGFjZWQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBCb2FyZC5wbGFjZVNoaXAoaSwgeDEsIHkxLCB4MSwgeTEraSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzaGlwIHBsYWNlZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgXG4gICAgICAgIH1cbiAgICAgICAgKi9cblxuICAgICAgICBcbiAgICAgICAgbGV0IHByZXZpb3VzU2hpcHNZID0gW107XG4gICAgICAgIFxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDU7IGkrKykge1xuICAgICAgICAgICAgaWYgKGkgPT09IDApIHtcbiAgICAgICAgICAgICAgICBsZXQgeDEgPSBtYXRoTG9naWMuZ2V0UmFuZG9tSW50KDAsIDEwLShpKzEpKTtcbiAgICAgICAgICAgICAgICBsZXQgeTEgPSBtYXRoTG9naWMuZ2V0UmFuZG9tSW50KDAsIDEwKTtcbiAgICAgICAgICAgICAgICAvL2NvbnRpbnVlIGdldHRpbmcgbmV3IHJhbmRvbUludCB1bnRpbCBpdCBoYXNuJ3QgYmVlbiBzZWxlY3RlZCBiZWZvcmVcbiAgICAgICAgICAgICAgICB3aGlsZSAocHJldmlvdXNTaGlwc1kuaW5jbHVkZXMoeTEpIHx8IHByZXZpb3VzU2hpcHNZLmluY2x1ZGVzKHkxKzEpIHx8IHByZXZpb3VzU2hpcHNZLmluY2x1ZGVzKHkxLTEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHkxID0gbWF0aExvZ2ljLmdldFJhbmRvbUludCgwLCAxMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCB5MiA9IHkxO1xuICAgICAgICAgICAgICAgIGxldCB4MiA9IHgxICsgMTtcbiAgICAgICAgICAgICAgICBjb21wQm9hcmQucGxhY2VTaGlwKGksIHgxLCB5MSwgeDIsIHkyKTtcbiAgICAgICAgICAgICAgICBwcmV2aW91c1NoaXBzWS5wdXNoKHkxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCB4MSA9IG1hdGhMb2dpYy5nZXRSYW5kb21JbnQoMCwgMTAtaSk7XG4gICAgICAgICAgICAgICAgbGV0IHkxID0gbWF0aExvZ2ljLmdldFJhbmRvbUludCgwLCAxMCk7XG4gICAgICAgICAgICAgICAgLy9jb250aW51ZSBnZXR0aW5nIG5ldyByYW5kb21JbnQgdW50aWwgaXQgaGFzbid0IGJlZW4gc2VsZWN0ZWQgYmVmb3JlXG4gICAgICAgICAgICAgICAgd2hpbGUgKHByZXZpb3VzU2hpcHNZLmluY2x1ZGVzKHkxKSB8fCBwcmV2aW91c1NoaXBzWS5pbmNsdWRlcyh5MSsxKSB8fCBwcmV2aW91c1NoaXBzWS5pbmNsdWRlcyh5MS0xKSkge1xuICAgICAgICAgICAgICAgICAgICB5MSA9IG1hdGhMb2dpYy5nZXRSYW5kb21JbnQoMCwgMTApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgeTIgPSB5MTtcbiAgICAgICAgICAgICAgICBsZXQgeDIgPSB4MSArIGk7XG4gICAgICAgICAgICAgICAgY29tcEJvYXJkLnBsYWNlU2hpcChpLCB4MSwgeTEsIHgyLCB5Mik7XG4gICAgICAgICAgICAgICAgcHJldmlvdXNTaGlwc1kucHVzaCh5MSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgfVxuXG4gICAgY29uc3QgaW5pdEdhbWUgPSAoKSA9PiB7XG4gICAgICAgIHR1cm4gPSAnUExBWUVSJztcbiAgICAgICAgX2dhbWVPdmVyID0gZmFsc2U7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jbGljay1ibG9ja2VyJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuICAgICAgICBfcGxhY2VDb21wU2hpcHMoKTtcblxuICAgICAgICBjcmVhdGVHYW1lYm9hcmRET00uaW5pdEJvYXJkcyhwbGF5ZXIsIGNvbXBQbGF5ZXIsIHBsYXllckJvYXJkLCBjb21wQm9hcmQpO1xuICAgICAgICBkaXNwbGF5Q29udHJvbGxlci5wbGFjZVNoaXBzTWVzc2FnZSgpO1xuICAgIH1cblxuICAgIGNvbnN0IHJlc3RhcnRHYW1lID0gKCkgPT4ge1xuICAgICAgICBsZXQgcGxheWVyQm9hcmRET00gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGxheWVyLWJvYXJkJyk7XG4gICAgICAgIGxldCBjb21wQm9hcmRET00gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29tcHV0ZXItYm9hcmQnKTtcbiAgICAgICAgd2hpbGUgKHBsYXllckJvYXJkRE9NLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgIHBsYXllckJvYXJkRE9NLnJlbW92ZUNoaWxkKHBsYXllckJvYXJkRE9NLmZpcnN0Q2hpbGQpO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChjb21wQm9hcmRET00uZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgY29tcEJvYXJkRE9NLnJlbW92ZUNoaWxkKGNvbXBCb2FyZERPTS5maXJzdENoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICBwbGF5ZXJCb2FyZC5yZXNldEJvYXJkKCk7XG4gICAgICAgIGNvbXBCb2FyZC5yZXNldEJvYXJkKCk7XG5cbiAgICAgICAgaW5pdEdhbWUoKTtcblxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXhpcy1idXR0b24nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcGxheWVyQm9hcmQuY2hhbmdlU2hpcE9yaWVudGF0aW9uKCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IF9wcm9jZXNzQ29tcEF0dGFjayA9ICgpID0+IHsgICAgICAgICAgICAgICAgXG4gICAgICAgIGxldCByYW5kWCA9IG1hdGhMb2dpYy5nZXRSYW5kb21JbnQoMCwgMTApO1xuICAgICAgICBsZXQgcmFuZFkgPSBtYXRoTG9naWMuZ2V0UmFuZG9tSW50KDAsIDEwKTtcbiAgICAgICAgbGV0IHNob3QgPSBjb21wUGxheWVyLmF0dGFjayhwbGF5ZXJCb2FyZCwgcmFuZFgsIHJhbmRZKTtcbiAgICAgICAgXG4gICAgICAgIGxldCBhdHRhY2tlZEJvYXJkID0gdHVybiA9PT0gJ1BMQVlFUicgPyAnY29tcCcgOiAncGxheWVyJztcblxuICAgICAgICBkaXNwbGF5Q29udHJvbGxlci5zaG90UmVzdWx0KHNob3QsIHJhbmRYLCByYW5kWSk7XG5cbiAgICAgICAgbGV0IGF0dGFja2VkQ2VsbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGF0dGFja2VkQm9hcmQrcmFuZFgrcmFuZFkpO1xuICAgICAgICBpZiAoc2hvdCA9PT0gJ0hJVCcpIHtcbiAgICAgICAgICAgIGF0dGFja2VkQ2VsbC5jbGFzc0xpc3QuYWRkKCdoaXQtY2VsbCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzaG90ID09PSAnTUlTUycpIHtcbiAgICAgICAgICAgIGF0dGFja2VkQ2VsbC5jbGFzc0xpc3QuYWRkKCdtaXNzLWNlbGwnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IF9jaGFuZ2VUdXJuID0gKCkgPT4ge1xuICAgICAgICBpZiAoIV9nYW1lT3Zlcikge1xuICAgICAgICAgICAgdHVybiA9IHR1cm4gPT09ICdQTEFZRVInID8gJ0NPTVAnIDogJ1BMQVlFUic7XG4gICAgICAgICAgICBkaXNwbGF5Q29udHJvbGxlci5hZGRDdXJyZW50VHVyblRvTWVzc2FnZSh0dXJuKTtcbiAgICAgICAgICAgIGlmICh0dXJuID09PSAnQ09NUCcpIHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgX3Byb2Nlc3NDb21wQXR0YWNrKCk7ICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBfY2hhbmdlVHVybigpO1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2xpY2stYmxvY2tlcicpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICAgICAgfSwgMjAwMCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBnYW1lVHVybiA9IChjdXJyUGxheWVyLCBwbGF5ZXJCb2FyZCwgZW5lbXlCb2FyZCwgeCwgeSkgPT4ge1xuICAgICAgICBsZXQgc2hvdDtcbiAgICAgICAgaWYgKHR1cm4gPT09ICdQTEFZRVInKSB7XG4gICAgICAgICAgICBzaG90ID0gY3VyclBsYXllci5hdHRhY2soZW5lbXlCb2FyZCwgeCwgeSk7XG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2xpY2stYmxvY2tlcicpLnN0eWxlLnJlbW92ZVByb3BlcnR5KCdkaXNwbGF5Jyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHVybiA9PT0gJ0NPTVAnKSB7XG4gICAgICAgICAgICBsZXQgcmFuZFggPSBtYXRoTG9naWMuZ2V0UmFuZG9tSW50KDAsIDEwKTtcbiAgICAgICAgICAgIGxldCByYW5kWSA9IG1hdGhMb2dpYy5nZXRSYW5kb21JbnQoMCwgMTApO1xuICAgICAgICAgICAgc2hvdCA9IGN1cnJQbGF5ZXIuYXR0YWNrKGVuZW15Qm9hcmQsIHJhbmRYLCByYW5kWSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGxldCBhdHRhY2tlZEJvYXJkID0gdHVybiA9PT0gJ1BMQVlFUicgPyAnY29tcCcgOiAncGxheWVyJztcblxuICAgICAgICBkaXNwbGF5Q29udHJvbGxlci5zaG90UmVzdWx0KHNob3QsIHgsIHkpO1xuICAgICAgICBcblxuICAgICAgICBsZXQgYXR0YWNrZWRDZWxsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYXR0YWNrZWRCb2FyZCt4K3kpO1xuICAgICAgICBpZiAoc2hvdCA9PT0gJ0hJVCcpIHtcbiAgICAgICAgICAgIGF0dGFja2VkQ2VsbC5jbGFzc0xpc3QuYWRkKCdoaXQtY2VsbCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzaG90ID09PSAnTUlTUycpIHtcbiAgICAgICAgICAgIGF0dGFja2VkQ2VsbC5jbGFzc0xpc3QuYWRkKCdtaXNzLWNlbGwnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBnYW1lT3Zlck1zZyA9IGN1cnJQbGF5ZXIuaXNQbGF5ZXJIdW1hbigpID8gJ1lvdSB3aW4hJyA6ICdDb21wdXRlciBwbGF5ZXIgd2lucyEnO1xuICAgICAgICBnYW1lT3Zlck1zZyA9ICdHYW1lIE92ZXIuICcgKyBnYW1lT3Zlck1zZztcbiAgICAgICAgaWYgKGVuZW15Qm9hcmQuaXNBbGxTdW5rKCkpIHtcbiAgICAgICAgICAgIGRpc3BsYXlDb250cm9sbGVyLmRpc3BsYXlNZXNzYWdlKGdhbWVPdmVyTXNnKTtcbiAgICAgICAgICAgIF9nYW1lT3ZlciA9IHRydWU7XG4gICAgICAgIH0gICBcbiAgICAgICAgX2NoYW5nZVR1cm4oKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge2luaXRHYW1lLCBnYW1lVHVybiwgZ2V0R2FtZU92ZXIsIHJlc3RhcnRHYW1lLCBnZXRUdXJufTtcblxufSkoKTtcblxuZXhwb3J0IHtHYW1lfTsiLCJpbXBvcnQgJy4vcmVzZXQuY3NzJztcbmltcG9ydCAnLi9zdHlsZS5jc3MnO1xuaW1wb3J0IHtHYW1lfSBmcm9tICcuL0dhbWUnO1xuXG5HYW1lLmluaXRHYW1lKCk7XG5cbiJdLCJuYW1lcyI6WyJfX19DU1NfTE9BREVSX0VYUE9SVF9fXyIsInB1c2giLCJtb2R1bGUiLCJpZCIsImV4cG9ydHMiLCJjc3NXaXRoTWFwcGluZ1RvU3RyaW5nIiwibGlzdCIsInRvU3RyaW5nIiwidGhpcyIsIm1hcCIsIml0ZW0iLCJjb250ZW50IiwibmVlZExheWVyIiwiY29uY2F0IiwibGVuZ3RoIiwiam9pbiIsImkiLCJtb2R1bGVzIiwibWVkaWEiLCJkZWR1cGUiLCJzdXBwb3J0cyIsImxheWVyIiwidW5kZWZpbmVkIiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsImsiLCJfayIsImNzc01hcHBpbmciLCJidG9hIiwiYmFzZTY0IiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJKU09OIiwic3RyaW5naWZ5IiwiZGF0YSIsInNvdXJjZU1hcHBpbmciLCJzb3VyY2VVUkxzIiwic291cmNlcyIsInNvdXJjZSIsInNvdXJjZVJvb3QiLCJzdHlsZXNJbkRPTSIsImdldEluZGV4QnlJZGVudGlmaWVyIiwiaWRlbnRpZmllciIsInJlc3VsdCIsIm1vZHVsZXNUb0RvbSIsIm9wdGlvbnMiLCJpZENvdW50TWFwIiwiaWRlbnRpZmllcnMiLCJiYXNlIiwiY291bnQiLCJpbmRleEJ5SWRlbnRpZmllciIsIm9iaiIsImNzcyIsInNvdXJjZU1hcCIsInJlZmVyZW5jZXMiLCJ1cGRhdGVyIiwiYWRkRWxlbWVudFN0eWxlIiwiYnlJbmRleCIsInNwbGljZSIsImFwaSIsImRvbUFQSSIsInVwZGF0ZSIsIm5ld09iaiIsInJlbW92ZSIsImxhc3RJZGVudGlmaWVycyIsIm5ld0xpc3QiLCJpbmRleCIsIm5ld0xhc3RJZGVudGlmaWVycyIsIl9pIiwiX2luZGV4IiwibWVtbyIsImluc2VydCIsInN0eWxlIiwidGFyZ2V0Iiwic3R5bGVUYXJnZXQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ3aW5kb3ciLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsImhlYWQiLCJlIiwiZ2V0VGFyZ2V0IiwiRXJyb3IiLCJhcHBlbmRDaGlsZCIsImVsZW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlcyIsImF0dHJpYnV0ZXMiLCJzdHlsZUVsZW1lbnQiLCJub25jZSIsInNldEF0dHJpYnV0ZSIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlVGFnVHJhbnNmb3JtIiwiYXBwbHkiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImZpcnN0Q2hpbGQiLCJjcmVhdGVUZXh0Tm9kZSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJuIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImQiLCJhIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiU2hpcCIsInNoaXBMZW5ndGgiLCJfbGVuZ3RoIiwiX3N1bmsiLCJfaGl0U3RhdHVzIiwiaXNTdW5rIiwiaGl0IiwiR2FtZWJvYXJkIiwiX0JPQVJEU0laRSIsIl9zaGlwT3JpZW50YXRpb24iLCJfYm9hcmQiLCJfc2hpcExpc3QiLCJfc2hvdHNGaXJlZCIsIl9zaGlwc1BsYWNlZCIsIl9pbml0Qm9hcmQiLCJqIiwiX2luaXRTaGlwcyIsInBsYWNlU2hpcCIsInNoaXAiLCJ4MSIsInkxIiwieDIiLCJ5MiIsImN1cnJJbmRleCIsInNoaXBJbmRleCIsInJlY2VpdmVBdHRhY2siLCJpc0FsbFN1bmsiLCJhbGxTdW5rIiwiZ2V0U2hvdFN0YXR1cyIsIngiLCJ5Iiwic3RhdHVzIiwicHJpbnRCb2FyZCIsImJvYXJkU3RyIiwiZ2V0Qm9hcmQiLCJnZXRTaGlwc1BsYWNlZCIsImNoYW5nZVNoaXBPcmllbnRhdGlvbiIsImdldFNoaXBPcmllbnRhdGlvbiIsImlzVmFsaWRQbGFjZW1lbnQiLCJzaGlwQ2hlY2siLCJyZXNldEJvYXJkIiwiY3JlYXRlR2FtZWJvYXJkRE9NIiwiX2FkZFZlcnRpY2FsU2hpcCIsImJvYXJkQ2VsbCIsInBsYXllckJvYXJkIiwic2hpcHNQbGFjZWQiLCJnZXRFbGVtZW50QnlJZCIsImNsYXNzTGlzdCIsImFkZCIsIl9hZGRIb3Jpem9udGFsU2hpcCIsImluaXRCb2FyZHMiLCJwbGF5ZXIiLCJjb21wUGxheWVyIiwiY29tcEJvYXJkIiwiYm9hcmRXcmFwcGVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsInNoaXBPcmllbnRhdGlvbiIsInJlbW92ZVByb3BlcnR5IiwiZGlzcGxheSIsIl9jcmVhdGVQbGF5ZXJCb2FyZCIsIkdhbWUiLCJnZXRHYW1lT3ZlciIsImdhbWVUdXJuIiwiX2NyZWF0ZUNvbXBCb2FyZCIsInJlc3RhcnRHYW1lIiwiUGxheWVyIiwiaXNIdW1hbiIsIl9pc0h1bWFuIiwiYXR0YWNrIiwiZ2FtZWJvYXJkIiwiX2lzQXR0YWNrTGVnYWwiLCJpc1BsYXllckh1bWFuIiwibWF0aExvZ2ljIiwibWluIiwibWF4IiwiTWF0aCIsImNlaWwiLCJmbG9vciIsInJhbmRvbSIsImRpc3BsYXlDb250cm9sbGVyIiwibWVzc2FnZSIsInBsYWNlU2hpcHNNZXNzYWdlIiwidGV4dENvbnRlbnQiLCJzaG90UmVzdWx0Iiwic2hvdCIsImFkZEN1cnJlbnRUdXJuVG9NZXNzYWdlIiwidHVybiIsImRpc3BsYXlNZXNzYWdlIiwibXNnIiwiX2dhbWVPdmVyIiwiaW5pdEdhbWUiLCJwcmV2aW91c1NoaXBzWSIsImluY2x1ZGVzIiwiX3BsYWNlQ29tcFNoaXBzIiwiX2NoYW5nZVR1cm4iLCJzZXRUaW1lb3V0IiwicmFuZFgiLCJyYW5kWSIsImF0dGFja2VkQm9hcmQiLCJhdHRhY2tlZENlbGwiLCJfcHJvY2Vzc0NvbXBBdHRhY2siLCJjdXJyUGxheWVyIiwiZW5lbXlCb2FyZCIsImdhbWVPdmVyTXNnIiwicGxheWVyQm9hcmRET00iLCJjb21wQm9hcmRET00iLCJnZXRUdXJuIl0sInNvdXJjZVJvb3QiOiIifQ==